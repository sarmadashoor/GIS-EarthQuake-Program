if(!this.$UI){$UI={}}$(document).ready(function(){$.extend($UI,{ORIENTATION_VERTICAL:"vertical",ORIENTATION_HORIZONTAL:"horizontal",POSITION_TOP:"top",POSITION_BOTTOM:"bottom",POSITION_LEFT:"left",POSITION_RIGHT:"right",POSITION_TOP_RIGHT:"top-right",POSITION_TOP_LEFT:"top-left",POSITION_BOTTOM_RIGHT:"bottom-right",POSITION_BOTTOM_LEFT:"bottom-left",POSITION_CENTERED:"centered",FX_FADE:"fade",FX_SCROLL:"scroll",FX_NONE:"none",SPEED_SLOW:"slow",SPEED_FAST:"fast",METHOD_MANUAL:"manual",METHOD_HOVER:"hover",METHOD_FOCUS:"focus",LEVEL_INFO:"alert-info",LEVEL_ERROR:"alert-error",LEVEL_SUCCESS:"alert-success",LEFT:"left",RIGHT:"right",VK_ENTER:13,VK_HOME:36,VK_END:35,VK_ESC:27,VK_PAGE_UP:33,VK_PAGE_DOWN:34,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40,window:$(window),body:$("body"),html:$("html"),document:$(document),htmlBody:$("html,body"),browser:$UI.Utils.getBrowser(),scrollbarWidth:$UI.Utils.getScrollbarWidth(),uiObject:function(d,c,b,f,a){var e=d.userdata("$ui"+c);if(e){e.setParameters(f)}else{e=new b(d,f);d.userdata("$ui"+c,e)}if(a===true){e.show()}}});$UI.isIE=$UI.browser.name===$UI.browser.IE;$UI.isIE7=$UI.isIE&&$UI.browser.version===7;$UI.html.addClass("ui-"+$UI.browser.name+$UI.browser.version).addClass("ui-"+$UI.browser.name).addClass("ui-"+$UI.browser.engine).addClass("ui-"+$UI.browser.os);if(!window.console){window.console={};console.log=function(){}}$log=function(){if($UI.isIE){for(var a=0;a<arguments.length;a++){console.log(arguments[a])}}else{console.log.apply(console,arguments)}};$UI.ajaxBeforeUnload=false;$UI.window.on("beforeunload",function(){$UI.ajaxBeforeUnload=true})});(function(a){a.fn.$ui=function(b){var c=this.userdata("$ui"+b);return a.isDefined(c)?c:null}})(jQuery);$UI.alert=function(a,b){$UI.Alert.show(a,b)};$UI.Alert=function(){var e;var d;var c;var b={};var f=function(){e=$('<div class="basic-alert-wrapper"><div class="alert"><a class="close" href="#">×</a><p></p></div></div>').appendTo($UI.body);c=e.children(".alert");d=e.find("p");e.find(".close").click(a)};var g=function(h,i){if(!e){f()}b=$.extend({},{level:$UI.LEVEL_INFO,position:$UI.POSITION_BOTTOM,fx:$UI.FX_FADE,delay:-1,onClose:function(){}},i);d.html(h);c.removeClass("alert-info alert-error alert-success").addClass(b.level);e.removeAttr("style").removeClass("top bottom").addClass(b.position);switch(b.fx){case $UI.FX_NONE:e.show();break;case $UI.FX_FADE:e.fadeIn("fast");break;case $UI.FX_SCROLL:e.scrollIntoScreen(b.position,5);break}if(b.delay!=-1){setTimeout(a,b.delay=="fast"?"5000":b.delay*1000)}};var a=function(){var h=b.onClose||function(){};switch(b.fx){case $UI.FX_NONE:e.hide();h();break;case $UI.FX_SCROLL:case $UI.FX_FADE:e.fadeOut("fast",h)}return false};return{show:g,hide:a}}();(function(a){a.fn.$uiAutocomplete=function(b){return this.each(function(){$UI.uiObject(a(this),"autocomplete",$UI.Autocomplete,b,false)})};a.fn.$uiGetAutocomplete=function(){return this.$ui("autocomplete")}})(jQuery);$UI.Autocomplete=function(m,t){var c;var h;var f;var q;var g;var r;var j=function(){c=m.attr("autocomplete","off");h=$('<ul class="ui-autocomplete"></ul>').appendTo($UI.body).uiDelegate("li","click",e,true).hide();g=$.extend({},{minLength:3,offset:{x:0,y:0},maxItems:-1,dataSource:null,getUrl:function(){},transformData:function(){}},t);k(g);c.bind("keyup.uiAutocomplete",p).bind("keydown.uiAutocomplete",o).bind("input propertychange",function(){p()})};var k=function(u){if(u){g=$.extend(g,u)}if(u.dataSource){g.transformData=function(v){return v}}};var o=function(u){if(u.keyCode===$UI.VK_ENTER){u.preventDefault();if(f){e.call(f)}else{b();c.trigger("autocompleteselected",c.val())}return false}};var p=function(z){if($.isDefined(z)){switch(z.keyCode){case $UI.VK_ENTER:return;case $UI.VK_DOWN:case $UI.VK_UP:d(z.keyCode);return;case $UI.VK_ESC:b();return}}var y=$.trim(c.val());if(y.length<=g.minLength){b();return}if(y!==r){if(g.dataSource){var x=[];for(var v=0,u=g.dataSource.length;v<u;v++){if($UI.String.startsWith(g.dataSource[v].value,y)){x.push(g.dataSource[v])}}i(x)}else{var w=g.getUrl(y);$.ajax(w.url,{data:w.data,dataType:"json",success:function(A){i(A)},error:function(){i()}})}}r=y};var i=function(x){if(!x){return}q=g.transformData(x);if(q.length===0){b();return}h.empty();f=null;var u=[];for(var w=0,v=g.maxItems===-1?q.length:Math.min(q.length,g.maxItems);w<v;w++){u.push('<li data-pos="');u.push(w);u.push('">');u.push(q[w].label);u.push("</li>")}h.html(u.join(""));if(!h.is(":visible")){h.attr("class","ui-autocomplete");if($.isDefined(g.dropDownClass)){h.addClass(g.dropDownClass)}l()}};var n=function(u){if(f){f.removeClass("ui-autocomplete-selection")}f=u.addClass("ui-autocomplete-selection");c.val($.trim(q[parseInt(f.attr("data-pos"),10)].value).replace(/<(?:.|\n)*?>/gm,""))};var d=function(u){var v=u===$UI.VK_UP?f.prev():f?f.next():h.children("li:first");if(v[0]){n(v)}};var e=function(){var u=q[parseInt(this.attr("data-pos"),10)];c.val($.trim(u.value)).trigger("autocompleteselected",u);b()};var b=function(){if(h.is(":visible")){h.hide();$UI.document.unbind("click.uiAutocomplete");c.removeClass("ui-autocomplete-open")}};var a=function(u){if(!$(u.target).closest(c)[0]){b()}};var l=function(){var v=c.offset();var u=v.left+g.offset.x;var w=v.top+c.outerHeight()+g.offset.y;h.css({top:w,left:u}).show();$UI.document.bind("click.uiAutocomplete",a);c.addClass("ui-autocomplete-open")};var s=function(u){c.val(u).focus();r=null;p()};this.show=l;this.hide=b;this.search=s;this.setParameters=k;this.$=function(){return c};j()};(function(a){a.fn.$uiCarousel=function(b){return this.each(function(){$UI.uiObject(a(this),"carousel",$UI.Carousel,b)})};a.fn.$uiGetCarousel=function(){return this.$ui("carousel")}})(jQuery);$UI.Carousel=function(m,t){var c;var e;var o;var s;var k;var f;var j;var n=[];var g=0;var q;var b=-1;var a;var p;var h=function(){var y,x;c=m.addClass("ui-carousel");o=c.children("ul");var A=o.uiWrap('<div class="ui-carousel-ul-wrapper"></div>');e=$.extend({},{lazyLoad:false,resizeImages:false,isMobile:false},t);if(!e.isMobile){i(t);s=$('<div class="ui-carousel-pn ui-carousel-prev">'+(e.arrow?e.arrow:"◄")+"</div>");k=$('<div class="ui-carousel-pn ui-carousel-next">'+(e.arrow?e.arrow:"►")+"</div>");c.append(s).append(k);var z=(c.outerHeight()-k.height())/2;s.top(z).mousedown(function(){d(false)})[0].onselectstart=function(){return false};k.top(z).mousedown(function(){d(true)})[0].onselectstart=function(){return false};$UI.window.bind("resize.ui-carousel",function(){if(c.width()!=p){l()}})}else{if(e.isMobile&&e.lazyLoad){var B=o.children();var w=0;for(y=0;y<B.length;y++){w+=$(B[y]).outerWidth(true)}o.width(w);var v=A.$uiImageLoader({orientation:$UI.ORIENTATION_HORIZONTAL,attr:"data-ui-src"}).$uiGetImageLoader();$UI.window.bind("resize.ui-carousel",function(){v.refresh()})}}c.css("overflow","visible").visibility(true)};var i=function(w){if(w){e=$.extend(e,w)}q=o.children();j=q.length;a=$(q[0]).outerWidth(true);for(var v=0;v<j;v++){n.push($(q[v]))}l();return this};var l=function(){p=c.width();b=Math.ceil(p/a);f=a*b;o.width(2*f);o.left(0);g=0;var x=j<=b;c.toggleClass("ui-carousel-no-arrow",x);if(x){if(e.lazyLoad){for(var w=0;w<j;w++){u(n[w])}}}else{if(e.lazyLoad){for(var v=0;v<b;v++){u(n[v])}}}return this};var d=function(v){r(v);if(v){o.left(0).animate({left:-f},2000)}else{o.left(-f).animate({left:0},2000)}return false};var r=function(x){var y,v;var z;o.children(".ui-carousel-cloned").remove();var A=x?(b*2)-1:b-1;var w=x?0:-b;for(y=A;y>=w;y--){v=(((g+y)%j)+j)%j;z=n[v];if(e.lazyLoad){u(z)}o.prepend(z.clone(true).addClass("ui-carousel-cloned"))}g+=x?b:-b};var u=function(x){var v=x.find("img");var w=v.attr("data-ui-src");if(w){v.load(function(){$(this).hide().visibility(true).fadeIn("fast").unbind("load")}).visibility(false).attr("src",w).removeAttr("data-ui-src")}};h();this.setParameters=i;this.reinit=l;this.$=function(){return c}};(function(a){a.fn.$uiClipboardButton=function(b){return this.each(function(){$UI.uiObject(a(this),"clipboardbutton",$UI.ClipboardButton,b)})};a.fn.$uiGetClipboardButton=function(){return this.$ui("clipboardbutton")}})(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},Client:function(a){this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);this.glue(a);this.setHandCursor(true)}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",glue:function(a){this.$elem=a;this.$div=$('<div class="ui-clipboard-button-flash">'+this.getHTML(a.outerWidth(true),a.outerHeight(true))+"</div>");a.wrap('<div class="ui-clipboard-button-wrapper"></div>').after(this.$div)},getHTML:function(c,a){var b=["id=",this.id,"&width=",c,"&height=",a].join("");if($UI.isIE){var d=location.href.match(/^https/i)?"https://":"http://";return'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+d+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+c+'" height="'+a+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+b+'"/><param name="wmode" value="transparent"/></object>'}else{return'<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+c+'" height="'+a+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+b+'" wmode="transparent" />'}},destroy:function(){if(this.$div){this.hide();this.$div.remove();this.$div=null}},hide:function(){this.$div.hide()},show:function(){this.$div.show()},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},setHandCursor:function(a){this.handCursor=a;if(this.ready){this.movie.setHandCursor(a)}},receiveEvent:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");var c;switch(a){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&$UI.browser.name==$UI.browser.FIREFOX&&$UI.browser.os==$UI.browser.WINDOWS){c=this;setTimeout(function(){c.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.setText(this.clipText);this.movie.setHandCursor(this.handCursor);break;case"complete":this.$elem.trigger("zccomplete",this.clipText);break;case"mouseover":this.$elem.addClass("hover").trigger("zcmouseover");if(this.recoverActive){this.$elem.addClass("active")}break;case"mouseout":this.recoverActive=false;if(this.$elem.hasClass("active")){this.$elem.removeClass("active");this.recoverActive=true}this.$elem.removeClass("hover").trigger("zcmouseout");break;case"mousedown":this.$elem.addClass("active").trigger("zcmousedown");break;case"mouseup":this.$elem.removeClass("active").trigger("zcmouseup");this.recoverActive=false;break}}};$UI.ClipboardButton=function(d,f){var c;var b;var e=function(){c=d;if($UI.isIE){d.click(function(){var h=f.getTextFn();window.clipboardData.setData("Text",h);d.trigger("clipboardcopycompleted",h)})}else{if(f.swfPath){ZeroClipboard.setMoviePath(f.swfPath+"ZeroClipboard.swf")}b=new ZeroClipboard.Client(d);d.bind("zcmousedown",function(){b.setText(f.getTextFn())}).bind("zccomplete",function(h,i){d.trigger("clipboardcopycompleted",i)})}};var g=function(){if(!$UI.isIE){b.show()}};var a=function(){if(!$UI.isIE){b.hide()}};this.$=function(){return c};this.setParameters=function(){};this.show=g;this.hide=a;e()};$UI.DatePicker=function(A){var p;var g;var k;var a;var v;var o;var s;var b;var n;var C;var j;var m=function(){j=$.extend({},{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],startOfWeek:1,dateToString:c,stringToDate:D},A);var G=$('<p class="month-nav"><span class="button prev" title="[Page-Up]">&#171;</span><span class="month-name"></span><span class="button next" title="[Page-Down]">&#187;</span></p>');p=$(".month-name",G);$(".prev",G).click(function(){f(-1)});$(".next",G).click(function(){f(1)});var F=$('<p class="year-nav"><span class="button prev" title="[Ctrl+Page-Up]">&#171;</span><input type="text" class="year-name" /><span class="button next" title="[Ctrl+Page-Down]">&#187;</span></p>');g=$(".year-name",F);$(".prev",F).click(function(){f(-12)});$(".next",F).click(function(){f(12)});var E=$('<div class="nav"></div>').append(G,F);var H="<table><thead><tr>";$(i(j.shortDayNames)).each(function(){H+="<th>"+this+"</th>"});H+="</tr></thead><tbody></tbody></table>";k=$('<div class="ui-date-picker"></div>').append(E,H).appendTo($UI.body);a=$("tbody",k).uiDelegate(".selectable-day","click",function(){d(this.attr("data-date"))})};var t=function(G){var L=new Date(G.getFullYear(),G.getMonth(),1);if(!b||!(b.getFullYear()==L.getFullYear()&&b.getMonth()==L.getMonth())){b=L;var M=y(G),E=B(G);var J=u(M,E);var H="";for(var I=0;I<=J;I++){var K=new Date(M.getFullYear(),M.getMonth(),M.getDate()+I);if(l(K)){H+="<tr>"}if(K.getMonth()==G.getMonth()){H+='<td class="selectable-day" data-date="'+c(K)+'">'+K.getDate()+"</td>"}else{H+='<td class="unselected-month" data-date="'+c(K)+'">'+K.getDate()+"</td>"}if(w(K)){H+="</tr>"}}a.html(H);p.text(x(G));var F=function(){if(isNaN(g.val())){g.val(n.getFullYear())}else{h(new Date(g.val(),n.getMonth(),n.getDate()))}};g.val(b.getFullYear()).change(F).keypress(function(N){if(N.keyCode==13){F()}});$("td[data-date="+c(new Date())+"]",a).addClass("today")}$(".selected",a).removeClass("selected");$("td[date="+C+"]",a).addClass("selected")};var h=function(E){if($.isUndefined(E)){E=j.stringToDate(v.text())}if(!E){E=new Date()}n=E;C=j.dateToString(n);t(n)};var d=function(E){e();o(E!=s,s,E)};var D=function(E){var F=E.match(/^(\d{4,4})-(\d{2,2})-(\d{2,2})$/);if(F){return new Date(F[1],F[2]-1,F[3])}else{return null}};var c=function(F){var E=(F.getMonth()+1).toString();var G=F.getDate().toString();return F.getFullYear()+"-"+(E.length<2?"0"+E:E)+"-"+(G.length<2?"0"+G:G)};var r=function(){var E=v.offset();k.css({top:E.top+v.outerHeight(),left:E.left})};var f=function(E){var F=new Date(b.getFullYear(),b.getMonth()+E,b.getDate());t(F)};var u=function(F,E){F=Date.UTC(F.getFullYear(),F.getMonth(),F.getDate());E=Date.UTC(E.getFullYear(),E.getMonth(),E.getDate());return(E-F)/86400000};var z=function(E,F,G){var H=G*(Math.abs(F.getDay()-E-(G*7))%7);return new Date(F.getFullYear(),F.getMonth(),F.getDate()+H)};var y=function(E){return z(j.startOfWeek,new Date(E.getFullYear(),E.getMonth()),-1)};var B=function(E){return z((j.startOfWeek-1)%7,new Date(E.getFullYear(),E.getMonth()+1,0),1)};var l=function(E){return E.getDay()==j.startOfWeek};var w=function(E){return E.getDay()==(j.startOfWeek-1)%7};var i=function(G){var F=[];for(var E=0;E<G.length;E++){F[E]=G[(E+j.startOfWeek)%7]}return F};var x=function(E){return j.monthNames[E.getMonth()]};var q=function(E,F){o=F;v=E;r();h();k.show();s=E.text();$UI.html.one("click.ui-datepicker",function(G){if(!$(G.target).closest(".ui-date-picker")[0]){e();o(false,s,s)}})};var e=function(){k.hide();$UI.body.unbind("click.ui-datepicker")};m();this.show=q;this.hide=e;this.stringToDate=j.stringToDate;this.$=function(){return k}};(function(a){a.fn.$uiEditor=function(b){return this.each(function(){$UI.uiObject(a(this),"editor",$UI.Editor,b)})};a.fn.$uiGetEditor=function(){return this.$ui("editor")}})(jQuery);$UI.CurrentEditorId=null;$UI.Editor=function(l,r){var b;var f;var q;var k;var o;var h=function(){b=l;q=b.id();f=$.extend({},{updateToolbar:true,enabled:false},r);i(f);e()};var i=function(t){if($.isDefined(t.toolbar)){a(t.toolbar)}f=$.extend(f,t);if($.isDefined(t.enabled)){if(t.enabled===true){p()}else{n()}}};var m;var a=function(u){u.uiDelegate("button","click.uiEditor",function(){if($UI.CurrentEditorId===q){c();$UI.EditorUtils.sendCommand({command:this.attr("data-ui-editor-action"),elt:b})}});var x=u.find("[data-ui-editor-action]");m=[];for(var v=0,t=x.length;v<t;v++){var w=$(x[v]);m[w.attr("data-ui-editor-action").toLowerCase()]=w}};var j=["bold","italic","underline","strikethrough","superscript","subscript"];var s=function(){for(var v=0,u=j.length;v<u;v++){var w=m[j[v]];if(w){w.toggleClass("active",document.queryCommandState(j[v]))}}$UI.EditorUtils.setIE78Selection();if(m["font-dec"]||m["font-inc"]){var t=$UI.EditorUtils.getCurrentFontSize();if(m["font-dec"]){m["font-dec"].toggleClass("active",t<2)}if(m["font-inc"]){m["font-inc"].toggleClass("active",t>2)}}};var p=function(){b.attr("contenteditable","true").addClass("ui-editing").bind("focus.uiEditor",d);e();if(!$UI.isIE){document.execCommand("styleWithCSS",false,null)}if(f.updateToolbar===true){b.bind("keyup.uiEditor",s).bind("mouseup.uiEditor",s)}return this};var n=function(){b.removeAttr("contenteditable").removeClass("ui-editing").unbind(".uiEditor");return this};var d=function(){$UI.CurrentEditorId=q;if(f.toolbar&&f.updateToolbar){s()}};var g=function(t){if(!$UI.Keyboard.isMoveKey(t.keyCode)&&t.keyCode!=45){c()}};var c=function(){if(!k){k=true;o=b.html();b.unbind("keydown.uiEditorModified").trigger("editormodified")}};var e=function(){o=l.html();k=false;b.bind("keydown.uiEditorModified",g)};this.$=function(){return b};this.setParameters=i;this.disable=n;this.enable=p;this.isModified=function(){return o!=b.html()};this.resetModifiedFlag=e;this.getOriginalContent=function(){return o};h()};$UI.Editor.SPECIAL_CHARACTERS_TITLE="Special Characters";$UI.EditorUtils=function(){var m;var c;var i=function(){return($UI.isIE&&$UI.browser.version<9)?m:$UI.Utils.getSelection()};var f=function(){if($UI.isIE&&$UI.browser.version<9){m=document.selection.createRange()}};var k=function(){var s=i();if(!$UI.Utils.getSelectionAncestor(s)[0]){c=null;return false}else{c=s;return true}};var g=function(){if(c!=null){$UI.Utils.setSelection(c)}};var n=function(z){var y=z.command;var x=z.param;var v=z.elt;var u;var s;var t;switch(y){case"link":u=$UI.EditorUtils.getSelection();if(!$UI.Utils.getSelectionAncestor(u,v)[0]){return}s=$UI.Utils.getSelectionAncestor(u,"a");$UI.promptBox("URL","Enter the URL",function(A){if(!$UI.Validation.url(A)){return"Invalid URL"}$UI.Utils.setSelection(u);if(A!==null){A=$.trim(A);if(A===""&&s[0]){s.contents().unwrap()}else{if(A!==""){document.execCommand("createLink",false,A)}}}},(s[0]?s.attr("href"):""));break;case"font-inc":case"font-dec":t=$UI.Integer.limit(l()+(y==="font-inc"?1:-1),1,7);document.execCommand("fontSize",false,t);break;case"insert-table":e(v);break;case"special-characters":h(v);break;case"indent":document.execCommand(y,false,null);if($UI.isIE){u=$UI.EditorUtils.getSelection();if(!$UI.Utils.getSelectionAncestor(u,v)[0]){return}s=$UI.Utils.getSelectionAncestor(u,"blockquote");if(s[0]){s.addClass("ui-editor-ie-indent")}}break;case"backgroundColor":try{document.execCommand("HiliteColor",false,x)}catch(w){document.execCommand("BackColor",false,x)}break;default:document.execCommand(y,false,z.param)}};var q;var b;var a;var p;var j;var h=function(s){if(!q){var t=$('<div class="ui-editor-special-char">                <table>                <tbody>                <tr>                    <td title="no-break space">&nbsp;</td>                    <td title="ampersand">&amp;</td>                    <td title="quotation mark">"</td>                    <td title="cent sign">&cent;</td>                    <td title="euro sign">&euro;</td>                    <td title="pound sign">&pound;</td>                    <td title="yen sign">&yen;</td>                    <td title="copyright sign">&copy;</td>                    <td title="registered sign">&reg;</td>                    <td title="trade mark sign">&trade;</td>                    <td title="per mille sign">&permil;</td>                    <td title="micro sign">&micro;</td>                    <td title="middle dot">&middot;</td>                    <td title="bullet">&bull;</td>                    <td title="three dot leader">&hellip;</td>                    <td title="minutes / feet">&prime;</td>                    <td title="seconds / inches">&Prime;</td>                    <td title="section sign">&sect;</td>                    <td title="paragraph sign">&para;</td>                    <td title="sharp s / ess-zed">&szlig;</td>                    <th rowspan="10"><div class="ui-editor-special-char-zoom"><div class="ui-editor-special-char-display"></div><div class="ui-editor-special-char-name"></div></div></th>                 </tr>                <tr>                    <td title="single left-pointing angle quotation mark">&lsaquo;</td>                    <td title="single right-pointing angle quotation mark">&rsaquo;</td>                    <td title="left pointing guillemet">&laquo;</td>                    <td title="right pointing guillemet">&raquo;</td>                    <td title="left single quotation mark">&lsquo;</td>                    <td title="right single quotation mark">&rsquo;</td>                    <td title="left double quotation mark">&ldquo;</td>                    <td title="right double quotation mark">&rdquo;</td>                    <td title="single low-9 quotation mark">&sbquo;</td>                    <td title="double low-9 quotation mark">&bdquo;</td>                    <td title="less-than sign">&lt;</td>                    <td title="greater-than sign">&gt;</td>                    <td title="less-than or equal to">&le;</td>                    <td title="greater-than or equal to">&ge;</td>                    <td title="en dash">&ndash;</td>                    <td title="em dash">&mdash;</td>                    <td title="macron">&macr;</td>                    <td title="overline">&oline;</td>                    <td title="currency sign">&curren;</td>                    <td title="broken bar">&brvbar;</td>                </tr>                <tr>                    <td title="diaeresis">&uml;</td>                    <td title="inverted exclamation mark">&iexcl;</td>                    <td title="turned question mark">&iquest;</td>                    <td title="circumflex accent">&circ;</td>                    <td title="small tilde">&tilde;</td>                    <td title="degree sign">&deg;</td>                    <td title="minus sign">&minus;</td>                    <td title="plus-minus sign">&plusmn;</td>                    <td title="division sign">&divide;</td>                    <td title="fraction slash">&frasl;</td>                    <td title="multiplication sign">&times;</td>                    <td title="superscript one">&sup1;</td>                    <td title="superscript two">&sup2;</td>                    <td title="superscript three">&sup3;</td>                    <td title="fraction one quarter">&frac14;</td>                    <td title="fraction one half">&frac12;</td>                    <td title="fraction three quarters">&frac34;</td>                    <td title="function / florin">&fnof;</td>                    <td title="integral">&int;</td>                    <td title="n-ary sumation">&sum;</td>                </tr>                <tr>                    <td title="infinity">&infin;</td>                    <td title="square root">&radic;</td>                    <td title="almost equal to">&asymp;</td>                    <td title="not equal to">&ne;</td>                    <td title="identical to">&equiv;</td>                    <td title="n-ary product">&prod;</td>                    <td title="not sign">&not;</td>                    <td title="intersection">&cap;</td>                    <td title="partial differential">&part;</td>                    <td title="acute accent">&acute;</td>                    <td title="cedilla">&cedil;</td>                    <td title="feminine ordinal indicator">&ordf;</td>                    <td title="masculine ordinal indicator">&ordm;</td>                    <td title="dagger">&dagger;</td>                    <td title="double dagger">&Dagger;</td>                    <td title="A - grave">&Agrave;</td>                    <td title="A - acute">&Aacute;</td>                    <td title="A - circumflex">&Acirc;</td>                    <td title="A - tilde">&Atilde;</td>                    <td title="A - diaeresis">&Auml;</td>                </tr>                <tr>                    <td title="A - ring above">&Aring;</td>                    <td title="ligature AE">&AElig;</td>                    <td title="C - cedilla">&Ccedil;</td>                    <td title="E - grave">&Egrave;</td>                    <td title="E - acute">&Eacute;</td>                    <td title="E - circumflex">&Ecirc;</td>                    <td title="E - diaeresis">&Euml;</td>                    <td title="I - grave">&Igrave;</td>                    <td title="I - acute">&Iacute;</td>                    <td title="I - circumflex">&Icirc;</td>                    <td title="I - diaeresis">&Iuml;</td>                    <td title="ETH">&ETH;</td>                    <td title="N - tilde">&Ntilde;</td>                    <td title="O - grave">&Ograve;</td>                    <td title="O - acute">&Oacute;</td>                    <td title="O - circumflex">&Ocirc;</td>                    <td title="O - tilde">&Otilde;</td>                    <td title="O - diaeresis">&Ouml;</td>                    <td title="O - slash">&Oslash;</td>                    <td title="ligature OE">&OElig;</td>                </tr>                <tr>                    <td title="S - caron">&Scaron;</td>                    <td title="U - grave">&Ugrave;</td>                    <td title="U - acute">&Uacute;</td>                    <td title="U - circumflex">&Ucirc;</td>                    <td title="U - diaeresis">&Uuml;</td>                    <td title="Y - acute">&Yacute;</td>                    <td title="Y - diaeresis">&Yuml;</td>                    <td title="THORN">&THORN;</td>                    <td title="a - grave">&agrave;</td>                    <td title="a - acute">&aacute;</td>                    <td title="a - circumflex">&acirc;</td>                    <td title="a - tilde">&atilde;</td>                    <td title="a - diaeresis">&auml;</td>                    <td title="a - ring above">&aring;</td>                    <td title="ligature ae">&aelig;</td>                    <td title="c - cedilla">&ccedil;</td>                    <td title="e - grave">&egrave;</td>                    <td title="e - acute">&eacute;</td>                    <td title="e - circumflex">&ecirc;</td>                    <td title="e - diaeresis">&euml;</td>                </tr>                <tr>                    <td title="i - grave">&igrave;</td>                    <td title="i - acute">&iacute;</td>                    <td title="i - circumflex">&icirc;</td>                    <td title="i - diaeresis">&iuml;</td>                    <td title="eth">&eth;</td>                    <td title="n - tilde">&ntilde;</td>                    <td title="o - grave">&ograve;</td>                    <td title="o - acute">&oacute;</td>                    <td title="o - circumflex">&ocirc;</td>                    <td title="o - tilde">&otilde;</td>                    <td title="o - diaeresis">&ouml;</td>                    <td title="o slash">&oslash;</td>                    <td title="ligature oe">&oelig;</td>                    <td title="s - caron">&scaron;</td>                    <td title="u - grave">&ugrave;</td>                    <td title="u - acute">&uacute;</td>                    <td title="u - circumflex">&ucirc;</td>                    <td title="u - diaeresis">&uuml;</td>                    <td title="y - acute">&yacute;</td>                    <td title="thorn">&thorn;</td>                </tr>                <tr>                    <td title="y - diaeresis">&yuml;</td>                    <td title="Alpha">&Alpha;</td>                    <td title="Beta">&Beta;</td>                    <td title="Gamma">&Gamma;</td>                    <td title="Delta">&Delta;</td>                    <td title="Epsilon">&Epsilon;</td>                    <td title="Zeta">&Zeta;</td>                    <td title="Eta">&Eta;</td>                    <td title="Theta">&Theta;</td>                    <td title="Iota">&Iota;</td>                    <td title="Kappa">&Kappa;</td>                    <td title="Lambda">&Lambda;</td>                    <td title="Mu">&Mu;</td>                    <td title="Nu">&Nu;</td>                    <td title="Xi">&Xi;</td>                    <td title="Omicron">&Omicron;</td>                    <td title="Pi">&Pi;</td>                    <td title="Rho">&Rho;</td>                    <td title="Sigma">&Sigma;</td>                    <td title="Tau">&Tau;</td>                </tr>                <tr>                    <td title="Upsilon">&Upsilon;</td>                    <td title="Phi">&Phi;</td>                    <td title="Chi">&Chi;</td>                    <td title="Psi">&Psi;</td>                    <td title="Omega">&Omega;</td>                    <td title="alpha">&alpha;</td>                    <td title="beta">&beta;</td>                    <td title="gamma">&gamma;</td>                    <td title="delta">&delta;</td>                    <td title="epsilon">&epsilon;</td>                    <td title="zeta">&zeta;</td>                    <td title="eta">&eta;</td>                    <td title="theta">&theta;</td>                    <td title="iota">&iota;</td>                    <td title="kappa">&kappa;</td>                    <td title="lambda">&lambda;</td>                    <td title="mu">&mu;</td>                    <td title="nu">&nu;</td>                    <td title="xi">&xi;</td>                    <td title="omicron">&omicron;</td>                </tr>                 <tr>                     <td title="pi">&pi;</td>                    <td title="rho">&rho;</td>                    <td title="final sigma">&sigmaf;</td>                    <td title="sigma">&sigma;</td>                    <td title="tau">&tau;</td>                    <td title="upsilon">&upsilon;</td>                    <td title="phi">&phi;</td>                    <td title="chi">&chi;</td>                    <td title="psi">&psi;</td>                    <td title="omega">&omega;</td>                    <td title="leftwards arrow">&larr;</td>                    <td title="upwards arrow">&uarr;</td>                    <td title="rightwards arrow">&rarr;</td>                    <td title="downwards arrow">&darr;</td>                    <td title="left right arrow">&harr;</td>                    <td title="lozenge">&loz;</td>                    <td title="black club suit">&clubs;</td>                    <td title="black heart suit">&hearts;</td>                    <td title="black diamond suit">&diams;</td>                    <td title="black spade suit">&spades;</td>                </tr>                </tbody>                </table>                </div>            ').appendTo($UI.body).delegate("td","mouseenter mouseleave",r).uiDelegate("td","click",function(){q.hide();$UI.Utils.replaceSelection(j,this.html());s.focus()});q=t.$uiModal({title:$UI.EditorUtils.SPECIAL_CHARACTERS_TITLE}).$uiGetModal();b=t.find(".ui-editor-special-char-zoom");p=b.children(".ui-editor-special-char-display");a=b.children(".ui-editor-special-char-name")}j=$UI.EditorUtils.getSelection();if($UI.Utils.getSelectionAncestor(j,s)[0]){q.show()}};var r=function(t){if(t.type==="mouseenter"){var s=$(this);a.text(s.attr("title")).show();p.html(s.html()).show()}else{a.hide();p.hide()}};var e=function(u){var t=$UI.EditorUtils.getSelection();if(!$UI.Utils.getSelectionAncestor(t,u)[0]){return}var v="ui-editor-id-"+new Date().getMilliseconds();$UI.Utils.replaceSelection(t,'<div class="ui-editor-table-wrapper" id="'+v+'"><div class="ui-editor-table-toolbar"><button class="ui-editor-insert-tr" title="Insert Row"><span>Ins. Row</span></button><button class="ui-editor-delete-tr" title="Delete Row"><span>Del. Row</span></button><button class="ui-editor-insert-td" title="Insert Column"><span>Ins.Col</span></button><button class="ui-editor-delete-td" title="Delete Column"><span>Del. Row</span></button></div><table><tr><td></td><td></td></tr><tr><td></td><td></td></tr></table></div>');var s=$("#"+v).children(".ui-editor-table-toolbar");s.uiDelegate("button","click",d);u.focus()};var d=function(){var x=this.closest(".ui-editor-table-wrapper");var y=x.id();var u=this.parent().next();var v;var t;var w=$UI.Utils.getSelection();var s=$UI.Utils.getSelectionAncestor();if(s[0].nodeType===3){var z=s.closest("td");if(z[0]&&z.closest("#"+y)[0]){s=z}}if(s.is("td")){v=s.closest("tr");t=v.children("td").index(s)+1}else{v=u.find("tr:first");t=1}if(this.hasClass("ui-editor-insert-tr")){v.before("<tr>"+($UI.String.repeat("<td></td>",v.children("td").length))+"</tr>")}else{if(this.hasClass("ui-editor-delete-tr")){v.remove();if(u.find("tr").length===0){x.remove()}}else{if(this.hasClass("ui-editor-insert-td")){u.find("tr td:nth-child("+t+")").before("<td></td>")}else{if(this.hasClass("ui-editor-delete-td")){u.find("tr td:nth-child("+t+")").remove();if(u.find("td").length===0){x.remove()}}}}}$UI.Utils.setSelection(w)};var l=function(){var s=parseInt(document.queryCommandValue("fontSize"),10);if(isNaN(s)){s=2}return s};var o=function(t){var u=i();var s=$UI.Utils.getSelectionAncestor(u,"a");t=$.trim(t);if(t===""&&s[0]){s.contents().unwrap()}else{if(t!==""){document.execCommand("createLink",false,t)}}};return{getSelection:i,setIE78Selection:f,saveCurrentSelection:k,setSavedSelection:g,insertLink:o,sendCommand:n,getCurrentFontSize:l,SPECIAL_CHARACTERS_TITLE:"Special Characters"}}();(function(a){a.fn.$uiForm=function(b){return this.each(function(){$UI.uiObject(a(this),"form",$UI.Form,b,false)})};a.fn.$uiGetForm=function(){return this.$ui("form")}})(jQuery);$UI.Form=function($form,params){var _modal;var _params;var _tooltip;var _$form;var _$inputs;var _$formMessage;var _$buttons;var _popover;var _isVisible;var _$submitButton;var _datePicker;var _this=this;var _init=function(){_$form=$form.addClass("ui-form form-horizontal");_params=$.extend({},{ajax:true,json:false,dialog:true,show:false,resetBeforeShow:true,help:$UI.Form.NONE,title:$form.attr("title"),onButtonClick:function(){},onSubmit:function(){},datePickerParams:{}},params);_tooltip=new $UI.Twipsy(null,{offset:{y:12}});var inputSelector="input[type=text]:enabled,input[type=password]:enabled,input[type=checkbox]:enabled,textarea:enabled,select:enabled";_$inputs=_$form.find(inputSelector);var $inp;for(var i=0,j=_$inputs.length;i<j;i++){$inp=$(_$inputs[i]);var labelRight=true;var $label=$inp.nextAll('label[for="'+$inp.id()+'"]');if(!$label[0]){$label=$inp.prevAll('label[for="'+$inp.id()+'"]');labelRight=false}if($label[0]){$label.addClass("control-label")}var $inputWrapper=$inp.wrap('<div class="controls"></div>').parent();var required=$inp.attr("required");var disabled=$inp.attr("disabled");if($inp.is("span")){$inp.addClass("uneditable-input")}else{if(required!=null&&(required.toLowerCase()==="true"||required.toLowerCase()==="required")){$inp.removeAttr("required").addClass("required");var $required=$($UI.Form.messages.REQUIRED_FIELD_TAG);if($label[0]&&labelRight){$label.append($required)}else{$inp.after($required)}if($inp.is('[type="checkbox"]')){$required.addClass("required-msg-checkbox")}}else{if(disabled!=null&&(disabled.toLowerCase()==="true"||disabled.toLowerCase()==="disabled")){$inp.addClass("disabled")}}}if($inp.hasAttr("data-date-picker")&&$inp.attr("data-date-picker").toLowerCase()==="true"){if($.isUndefined(_datePicker)){_datePicker=new $UI.DatePicker(_params.datePickerParams);if(_params.dialog){_datePicker.$().addClass("ui-form-modal-date-picker")}}$inp.click(function(e){e.stopImmediatePropagation();var $this=$(this);_datePicker.show($this,function(changed,originalValue,newValue){if(changed){$this.val(newValue).trigger("change")}})})}if($UI.isIE&&$inp.is("textarea")&&$inp.hasAttr("maxlength")){var fMax=function(){var $this=$(this);var max=parseInt($this.attr("maxlength"),10);if($this.val().length>max){$this.val($this.val().substring(0,max))}};$inp.keyup(fMax).blur(fMax)}if($inp.hasAttr("title")){if(_params.help===$UI.Form.HELP_INLINE){$inputWrapper.append('<span class="help-inline">'+$inp.attr("title")+"</span>")}else{if(_params.help===$UI.Form.HELP_POPOVER){$inp.attr("data-title",$inp.attr("title"))}}$inp.removeAttr("title")}if($label[0]){(labelRight?$([$inputWrapper[0],$label[0]]):$([$label[0],$inputWrapper[0]])).wrapAll('<div class="control-group'+(labelRight?" control-group-right":"")+(i==j-1?" control-group-last":"")+'"></div>')}else{$inputWrapper.wrap('<div class="control-group"></div>')}var val=$inp.attr("data-prepend");if(val){var $prepend=$('<span class="add-on">'+val+"</span>");$inp.before($prepend);$inputWrapper.wrapInner('<div class="input-prepend"></div>');$inp.width($inp.width()-$prepend.getSize({border:true,margin:true,clone:true}).w)}val=$inp.attr("data-append");if(val){var $append=$('<span class="add-on">'+val+"</span>");$inp.after($append);var $inputPrepend=$inputWrapper.children(".input-prepend");if($inputPrepend[0]){$inputPrepend.addClass("input-append")}else{$inputWrapper.wrapInner('<div class="input-append"></div>')}$inp.width($inp.width()-$append.getSize({border:true,margin:true,clone:true}).w)}if($inp.hasAttr("placeholder")){$inp.$uiPlaceholder()}}$($inp.last()).addClass("last");if(_params.help===$UI.Form.HELP_POPOVER){_popover=new $UI.Popover(_$form,{method:$UI.METHOD_MANUAL,closeButton:false,zIndex:50010});_$form.delegate(inputSelector,"mouseenter mouseleave",function(e){var $this=$(this);var h=$this.attr("data-title");if(e.type==="mouseenter"&&h){_popover.setParameters({content:h},$this).show()}else{_popover.hide()}})}_$buttons=_$form.find("input[type=submit], input[type=button], button");_$submitButton=_$buttons.filter("input[type=submit]");var requiredFields=_$form.find(".required");var msgRequired=requiredFields[0]?$('<div class="form-required-info">'+$UI.Form.messages.REQUIRED_FIELD_TAG+(requiredFields.length===1?$UI.Form.messages.REQUIRED_FIELD_INFO:$UI.Form.messages.REQUIRED_FIELDS_INFO)+"</div>"):null;_$formMessage=$('<div class="form-message"></div>');if(_params.dialog){_$form.$uiModal({title:_params.title}).bind("modalbuttonclicked",_clickButton).bind("modalopened",function(){$(_$inputs[0]).focus();_$form.trigger("modalformopened")}).bind("modalclosed",function(){_hideMessages();_$form.trigger("modalformclosed")});_modal=_$form.$uiGetModal();var m=_modal.getBody().addClass("modal-body-form");m.after(_$formMessage);if(msgRequired){m.find("form").append(msgRequired)}}else{_$buttons.addClass("btn").wrapAll('<div class="form-actions"></div>').click(_clickButton);if(_$submitButton[0]){_$submitButton.addClass("btn-primary").wrap('<div class="ui-ajax-button"></div>')}_$form.wrap('<fieldset class="ui-form-inline-wrapper"></fieldset>');if(_params.title){_$form.closest("fieldset").prepend("<legend>"+_params.title+"</legend>")}var actions=_$form.find(".form-actions");if(msgRequired){actions.before(msgRequired)}actions.before(_$formMessage);_isVisible=true}_$form.removeAttr("title");_setParameters(_params);if(_params.show){_show()}};var _setParameters=function(params){if(params){_params=$.extend(_params,params)}if($.isDefined(params.title)){if(_params.dialog){_modal.setParameters({title:params.title})}else{_$form.find("legend").html(params.title)}}return _this};var _submit=function(e){for(var i=0,j=_$inputs.length;i<j;i++){if(_checkIfError(_validate($(_$inputs[i])))){if(!_params.ajax&&e){e.preventDefault()}return}}var action=$.isDefined(_params.getActionFn)?_params.getActionFn():$form.attr("action");if(_params.ajax){if(_$submitButton[0]){_$submitButton.parent().addClass("activated")}var p={type:_$form.attr("method")||"POST",data:_$form.serialize(),cacheData:false,success:function(data){if(!_checkIfError(_params.onSubmit(data))&&_params.dialog){_hide()}},error:_submitError,complete:function(){if(_$submitButton[0]){_$submitButton.parent().removeClass("activated")}_$buttons.removeClass("disabled")}};if(_params.json){p.dataType="json"}$UI.Utils.ajax(action,p)}else{_$form.attr("action",action).submit()}return _this};var _submitError=function(){_$inputs[0].focus();if(_isVisible){_formMessage($UI.Utils.AJAX_ERROR_MESSAGE)}else{$UI.alertBox(null,$UI.Utils.AJAX_ERROR_MESSAGE,$UI.MessageBox.ICON_ERROR)}};var _checkIfError=function(err){_hideMessages();if($.isUndefined(err)||err===false){return false}else{if(err===true){_submitError();return true}else{if($.isString(err)){if(_isVisible){_formMessage(err)}else{$UI.alertBox(null,err,$UI.MessageBox.ICON_ERROR)}return true}else{if(_isVisible){var $inp=err.field;var isCheckBox=$inp.is(":checkbox");_tooltip.setParameters({content:err.message,position:isCheckBox?$UI.POSITION_TOP:$UI.POSITION_TOP_RIGHT,offset:{y:isCheckBox?0:5}},$inp).show();var cl=$inp.closest(".control-group").addClass("error");var f=function(){_tooltip.hide();cl.removeClass("error");$inp.unbind(".ui-form-after-error")};$inp.focus().one("change.ui-form-after-error",f);if(!isCheckBox){$inp.one("keypress.ui-form-after-error",f)}}else{$UI.alertBox(null,err.message,$UI.MessageBox.ICON_ERROR)}return true}}}};var _validate=function(field){if(field.hasClass("required")){var v=$UI.Validation.required(field);if(v){return v}}if(field.hasAttr("data-date-picker")&&field.attr("data-date-picker")=="true"){if(_datePicker.stringToDate(field.val())===null){return{field:field,message:$UI.Validation.messages.INVALID_DATE_FORMAT}}}var extraValidation=field.attr("data-validation");if(extraValidation&&$.isFunction($UI.Validation[extraValidation])){return $UI.Validation[extraValidation](field)}else{if(extraValidation&&(eval("typeof "+extraValidation)=="function")){var f=eval(extraValidation);return f(field)}}};var _clickButton=function(event,btn){var b=btn||$(this);if(!b.hasClass("disabled")){_$buttons.addClass("disabled");var p=_params.onButtonClick.call(this);if($.isDefined(p)&&p.noSubmit===true){_$buttons.removeClass("disabled");return false}if($.isDefined(p)&&$.isDefined(p.error)){p=p.error}if(!_checkIfError(p)){if(b.hasClass("btn-primary")){if($.isFunction(_params.submitFn)){_params.submitFn(_this)}else{_submit(event)}}else{if(_params.dialog){_hide()}}}}return false};var _show=function(){if(_params.resetBeforeShow){_clear()}else{_hideMessages()}if(_params.dialog){_modal.show();_isVisible=true}else{_$inputs[0].focus()}return _this};var _hide=function(){_modal.hide();_isVisible=false;return _this};var _hideMessages=function(){_tooltip.hide();if(_$submitButton[0]){_$submitButton.parent().removeClass("activated")}_$formMessage.hide();_$buttons.removeClass("disabled");$(".control-group.error").removeClass("error");return _this};var _displayMessage=function(params){_hideMessages();if($.isUndefined(params.field)){_formMessage(params.message,params.level)}else{_checkIfError(params)}if(params.timeout){setTimeout(_hideMessages,params.timeout*1000)}return _this};var _formMessage=function(message,level){_$formMessage.removeClass("alert-info alert-error alert-success");if($.isUndefined(level)){level=$UI.LEVEL_ERROR}_$formMessage.addClass(level).html(message).show();return _this};var _clear=function(){_hideMessages();_$inputs.filter("[type!=checkbox]").val("");_$inputs.filter("[type=checkbox]").prop("checked",false);return _this};var _setFields=function(fields){for(var i in fields){if(fields.hasOwnProperty(i)){var $field=_$form.find('[name="'+i+'"]');if($field[0]){$field.val(fields[i])}}}return _this};var _getField=function(fieldName){var $field=_$form.find('[name="'+fieldName+'"]');if($field[0]){return $field.val()}else{return null}};this.show=_show;this.hide=_hide;this.submit=_submit;this.clear=_clear;this.setParameters=_setParameters;this.displayMessage=_displayMessage;this.displayError=_checkIfError;this.hideMessages=_hideMessages;this.setFields=_setFields;this.getField=_getField;this.$=function(){return _$form};_init()};$UI.Form.messages={REQUIRED_FIELD_TAG:'<span class="required-msg">*</span>',REQUIRED_FIELDS_INFO:"These fields are required",REQUIRED_FIELD_INFO:"This field is required"};$UI.Form.HELP_NONE="none";$UI.Form.HELP_POPOVER="popover";$UI.Form.HELP_INLINE="inline";$UI.Validation=function(){var c=function(d){if(d.is(":checkbox")){if(!d.is(":checked")){return{field:d,message:$UI.Validation.messages.REQUIRED_CHECKBOX}}}else{if(d.is("select")){if(d.val()===""){return{field:d,message:$UI.Validation.messages.REQUIRED_SELECT}}}else{if($.trim(d.val())===""){return{field:d,message:$UI.Validation.messages.REQUIRED_FIELD}}}}};var b=function(e){var f=$.isString(e)?e:$.trim(e.val());if(f!==""){var d=/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,6}$/i;if(!$.isString(e)){if(!f.match(d)){return{field:e,message:$UI.Validation.messages.INVALID_EMAIL}}}else{return f.match(d)!=null}}};var a=function(e){var f=$.isString(e)?e:$.trim(e.val());if(f!==""){var d=/((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)/i;if(!$.isString(e)){if(!f.match(d)){return{field:e,message:$UI.Validation.messages.INVALID_URL}}}else{return f.match(d)!=null}}};return{required:c,email:b,url:a}}();$UI.Validation.messages={REQUIRED_CHECKBOX:"This checkbox must be checked",REQUIRED_FIELD:"This field is required",REQUIRED_SELECT:"An option must be selected",INVALID_EMAIL:"Invalid Email Address",INVALID_URL:"Invalid URL",INVALID_DATE_FORMAT:"Invalid date or date format"};(function(a){a.fn.$uiImageLoader=function(b){return this.each(function(){$UI.uiObject(a(this),"imageLoader",$UI.ImageLoader,b)})};a.fn.$uiGetImageLoader=function(){return this.$ui("imageLoader")}})(jQuery);$UI.ImageLoader=function(o,s){var e="ui-image-loader-wait";var c="ui-image-loader-loaded";var d;var f;var h;var m;var k;var r;var b;var i=function(){d=o;f=$.extend({},{orientation:$UI.ORIENTATION_VERTICAL,fx:$UI.FX_FADE,attr:"data-src",onLoading:function(){},onLoaded:function(){}},s);a();d.bind("scroll.uiImageLoader",f.orientation===$UI.ORIENTATION_VERTICAL?t:n);if($UI.isIE){$UI.body.bind("resize.uiImageLoader",g)}else{$UI.window.bind("resize.uiImageLoader",g)}g()};var a=function(){b=$.isWin(d);var x=(b?$UI.body:d).find("img["+f.attr+"]").addClass(e);h=[];m=x.length;for(var w=0;w<m;w++){var v=$(x[w]).load(l);h.push({el:v,s:f.orientation===$UI.ORIENTATION_VERTICAL?v.height():v.width()})}};var t=function(){var v=d.scrollTop();j(v,v+k,"top")};var n=function(){var v=d.scrollLeft();j(v,v+r,"left")};var j=function(w,v,B){var z=0;for(var y=0;y<m;y++){var x=h[y];if(x!=null){var C=b?x.el.offset()[B]:x.el.position()[B];var A=C+x.s;if((C>=w&&C<=v)||(A>=w&&A<=v)){u(x.el);h[y]=null}}else{z++}}if(z==m){p()}};var p=function(){d.unbind("scroll.uiImageLoader");if($UI.isIE){$UI.body.unbind("resize.uiImageLoader")}else{$UI.window.unbind("resize.uiImageLoader")}};var g=function(){k=d.height();r=d.width();if(f.orientation===$UI.ORIENTATION_VERTICAL){t()}else{n()}};var u=function(v){if(f.fx==$UI.FX_FADE){v.css("opacity",0)}f.onLoading(v);v.attr("src",v.attr(f.attr))};var l=function(){var v=$(this).removeClass(e).addClass(c);if(f.fx==$UI.FX_FADE){v.animate({opacity:1},"fast",f.onLoaded(v))}else{v.show();f.onLoaded(v)}};var q=function(){for(var v=0;v<m;v++){if(h[v]!=null){u(h[v].el);h[v]=null}}p()};this.$=function(){return d};this.setParameters=function(){};this.loadAll=q;this.refresh=g;i()};(function(a){a.fn.$uiImageMap=function(b){return this.each(function(){$UI.uiObject(a(this),"imagemap",$UI.ImageMap,b)})};a.fn.$uiGetImageMap=function(){return this.$ui("imagemap")}})(jQuery);$UI.ImageMap=function(q,d){var l;var b;var e;var g;var a=[];var n;var h;var f=false;var k=function(){l=q;n=$.extend({},{highlighted:true},d);h=l.height()===0?{w:parseInt(l.attr("width"),10),h:parseInt(l.attr("height"),10)}:{w:l.width(),h:l.height()};var v=$UI.String.after(l.attr("usemap"),"#");e=$UI.body.find('[name="'+v+'"]');b=l.uiWrap('<div class="ui-imagemap-wrapper"></div>').uiDelegate(".ui-imagemap-div","click",o);g=e.children("area");for(var u=0,t=g.length;u<t;u++){var s=$(g[u]);if(s.attr("shape").toUpperCase()!=="RECT"){continue}var x=s.attr("coords").split(",");var w={x1:parseInt(x[0],10),y1:parseInt(x[1],10),x2:parseInt(x[2],10),y2:parseInt(x[3],10)};var r=$('<a class="ui-imagemap-div" href="'+s.attr("href")+'" ></a>').css({top:w.y1,left:w.x1,width:w.x2-w.x1,height:w.y2-w.y1}).appendTo(b);a.push({elt:s,div:r,coords:w})}c(n)};var c=function(r){n=$.extend(n,r);if($.isDefined(r.highlighted)){if(r.highlighted){m()}else{j()}}};var o=function(){if($.isFunction(n.onMapClick)){return n.onMapClick(this.attr("href"))}};var m=function(){b.children(".ui-imagemap-div").removeClass("hidden");f=true};var j=function(){b.children(".ui-imagemap-div").addClass("hidden");f=false};var p=function(r){if($.isDefined(r)){r=!r}if(f){j()}else{m()}return f};var i=function(){var u=l.height()/h.h;for(var t=0,s=a.length;t<s;t++){var r=a[t].coords.x1*u;var v=a[t].coords.y1*u;a[t].div.css({top:v,left:r,width:(a[t].coords.x2*u)-r,height:(a[t].coords.y2*u)-v})}};this.$=function(){return l};this.setParameters=c;this.showMap=m;this.hideMap=j;this.resize=i;this.toggle=p;k()};(function(a){a.fn.$uiImageSlide=function(b){return this.each(function(){$UI.uiObject(a(this),"imageSlide",$UI.ImageSlide,b)})};a.fn.$uiGetImageSlide=function(){return this.$ui("imageSlide")}})(jQuery);$UI.ImageSlide=function(n,z){var b;var e;var t;var u;var c=[];var f=-1;var y;var l;var B;var o;var w;var k;var a;var m;var q;var j=function(){b=n.addClass("ui-image-slide").mouseenter(p).mouseleave(A);t=b.children("ul").wrap('<div class="ui-image-slide-ul-wrapper"></div>');u=t.children();var N=0;var F=b.width();y=$('<span class="ui-image-slide-pn ui-image-slide-prev"'+($UI.ImageSlide.scrollRightMessage?' title="'+$UI.ImageSlide.scrollRightMessage+'"':"")+"><span>"+$UI.ImageSlide.previousButtonText+"</span></span>");l=$('<span class="ui-image-slide-pn ui-image-slide-next"'+($UI.ImageSlide.scrollLeftMessage?'title="'+$UI.ImageSlide.scrollLeftMessage+'"':"")+"><span>"+$UI.ImageSlide.nextButtonText+"</span></span>");b.append(y).append(l);var L=(b.outerHeight()-l.children("span").outerHeight())/2;y.children("span").top(L).mousedown(g)[0].onselectstart=function(){return false};l.children("span").top(L).mousedown(d)[0].onselectstart=function(){return false};B=$('<div class="ui-image-slide-title"></div>');o=$('<div class="ui-image-slide-caption"></div>');b.append(B).append(o);w=$('<div class="ui-image-slide-shortcuts"></div>').click(r);b.append(w);e=$.extend({},{showInfo:true,showShortcuts:true,selectedImage:0,autoSlide:true,isPaused:false,autoSlideTimeout:3000,centering:true,resizeImages:false,lazyLoad:false,fx:$UI.FX_SCROLL},z);var D=b.find(".ui-image-slide-ul-wrapper");var G=D.width();var K=[];for(var J=0,H=u.length;J<H;J++){var P=$(u[J]);var M=P.children("a");var I=M.children("img");if(!e.lazyLoad){x.call(I)}if(e.lazyLoad&&N<G){C(I)}var O=e.width?e.width:P.outerWidth(true);if(e.centering){var E=-Math.ceil((F-O)/2);c.push(-(N+E))}else{c.push(-N)}N+=O;K.push('<span data-num="'+J+'">');K.push(J+1);K.push("</span>")}t.width(N);w.append(K.join(""));k=w.children();N=0;for(J=u.length-1;J>=0;J--){N+=e.width?e.width:$(u[J]).outerWidth(true);if(N>F){m=J+1;break}}i(e)};var i=function(D){e=$.extend(e,D);if($.isDefined(D.showShortcuts)){w.toggle(D.showShortcuts)}if($.isDefined(D.selectedImage)){s(e.selectedImage,false)}if($.isDefined(D.isPaused)){q=D.isPaused}if($.isDefined(D.autoSlide)&&D.autoSlide){h();a=setInterval(function(){if(!q){s((f+1)%(m+1),false)}},e.autoSlideTimeout)}};var h=function(){if(a){clearInterval(a)}a=null};var d=function(){h();if(e.lazyLoad){var D=$(u.find("[data-ui-src]")[0]);C(D)}s(f+1,true);return false};var g=function(){h();s(f-1,true);return false};var v=function(D){if(D){p()}if(e.showShortcuts){k.removeClass("ui-image-slide-selected");$(k[f]).addClass("ui-image-slide-selected")}};var s=function(G,E){G=$UI.Integer.limit(G,0,m);if(G!=f){var D={previous:f,current:G};b.trigger("beforeanimation",D);f=G;A();var F=function(){v(E);b.trigger("afteranimation",D)};if(e.fx===$UI.FX_SCROLL){t.animate({left:c[f]},F)}else{if(e.fx===$UI.FX_FADE){t.fadeOut("fast",function(){t.left(c[f]).fadeIn("fast",F)})}}y.toggle(f>0);l.toggle(f<m)}};var x=function(){var D=$(this);var E=D.parent();if(e.resizeImages){if(D.height()>E.height()){D.height(E.height()).css("width","auto")}else{if(D.width()>E.width()){D.width(E.width()).css("height","auto")}}}if($UI.isIE7){var F=(E.height()-D.height())/2;if(F>0){D.css("margin-top",F)}}D.hide();setTimeout(function(){D.visibility(true).fadeIn("fast")},200)};var C=function(D){D.visibility(false).load(x).attr("src",D.attr("data-ui-src"));D.removeAttr("data-ui-src")};var p=function(){if(e.showInfo&&!b.is(":animated")){var D=$(u[f]).children("img");B.text(D.attr("title")).show();o.text(D.attr("alt")).scrollIntoScreen($UI.POSITION_BOTTOM);if(e.showShortcuts){w.animate({bottom:o.outerHeight()+10},"fast")}}};var A=function(){if(e.showInfo){B.fadeOut("fast");o.fadeOut("fast");if(e.showShortcuts){w.animate({bottom:5},"fast")}}};var r=function(E){var D=$(E.target);h();s(parseInt(D.attr("data-num"),10),true)};j();this.setParameters=i;this.$=function(){return b}};$UI.ImageSlide.scrollLeftMessage="Scroll left";$UI.ImageSlide.scrollRightMessage="Scroll right";$UI.ImageSlide.previousButtonText="◄";$UI.ImageSlide.nextButtonText="►";(function(a){a.isDefined=function(b){return(typeof b!=="undefined")};a.isUndefined=function(b){return(typeof b==="undefined")};a.isString=function(b){return(typeof b==="string")};a.isWin=function(b){return a.isWindow(b.jquery?b[0]:b)};a.fn.hasAttr=function(c){var b=this.attr(c);return(a.isDefined(b)&&a.trim(b)!=="")};a.fn.href=function(){var b=this.attr("href");if(b&&$UI.isIE7&&$UI.String.startsWith(b,"http://"+window.location.host,true)){b=b.replace("//","**");b=$UI.String.from(b,"/")}return b};a.fn.idCounter=0;a.fn.id=function(){if(!this.hasAttr("id")){this.attr("id","_id"+(++a.fn.idCounter))}return this.attr("id")};a.fn.outerHtml=function(){if("outerHTML" in this[0]){return this[0].outerHTML}else{var b=this.wrap("<div></div>").parent().html();this.unwrap();return b}};a.fn.firstChildren=function(d,c){var b=c?d:null;var e=c?c:d;return this.children(b).slice(0,e)};a.fn.lastChildren=function(d,c){var b=c?d:null;var e=c?c:d;return this.children(b).slice(this.length-e)};a.fn.uiWrap=function(b){this.wrap(a('<div class="ui-dw">'+b+"</div>"));return this.closest(".ui-dw").children().unwrap()};a.fn.rootText=function(){return a.trim(this.contents().filter(function(){return this.nodeType===3}).text())};a.fn.findWithSelf=function(b){return this.find("*").addBack().filter(b)};a.fn.removeChildren=function(b){this.find(b).remove();return this};a.uData=[];a.fn.userdata=function(b,c){if(a.isUndefined(c)){return a.uData[a(this).id()+b]}else{return this.each(function(){a.uData[a(this).id()+b]=c})}};a.fn.value=function(b){if(this.is("input, textarea, select")){if(a.isDefined(b)){this.val(b)}else{return this.val()}}else{if(a.isDefined(b)){this.text(b)}else{return this.text()}}};a.fn.inlineEdit=function(c,b){if(a.isUndefined(b)){b=true}return this.each(function(){var g=a(this);var e=a.trim(g.text());var f=function(){$UI.Utils.clearSelection();var h=a.trim(g.text());g.unbind(".ui-inline-edit").removeClass("ui-inline-edit").removeAttr("contenteditable");c({modified:e!==h,oldValue:e,newValue:h})};var d=function(){g.text(e);f()};g.attr("contenteditable","true").focus().bind("blur.ui-inline-edit",function(){if(b){f()}else{d()}}).bind("keypress.ui-inline-edit",function(h){if(h.keyCode===$UI.VK_ENTER){f()}else{if(h.keyCode===$UI.VK_ESC){d()}}});$UI.Utils.putCursorAtEndOfSelection(g)})};a.fn.relatedPosition=function(c,b,d){return this.each(function(){var e=a(this);e.css($UI.Utils.position(c,e,b,d))})};a.fn.visibility=function(b){if(a.isUndefined(b)){return this.css("visibility")==="visible"}else{return this.each(function(){a(this).css("visibility",b===true?"visible":"hidden")})}};a.fn.top=function(b){if(a.isDefined(b)){return this.each(function(){a(this).css("top",b)})}else{return this[0].offsetTop}};a.fn.left=function(b){if(a.isDefined(b)){return this.each(function(){a(this).css("left",b)})}else{return this[0].offsetLeft}};a.fn.scrollIntoScreen=function(b,c){if(a.isUndefined(c)){c=0}return this.each(function(){var d=a(this);d.css(b,-d.outerHeight()-c).show().animate(b==$UI.POSITION_TOP?{top:c}:{bottom:c},"fast")})};a.fn.showInWindow=function(c,f,e){e=e||{x:0,y:0};var b=$UI.window.height()+$UI.window.scrollTop();var d=$UI.window.width();return this.each(function(){var j=a(this);var g=j.outerWidth();var i=j.outerHeight();if(f+i>b){f=b-i-e.y}if(c+g>d){c=d-g-e.x}a(this).css({left:c,top:f}).show()})};a.fn.getSize=function(g){var f=a.extend({},{clone:false,border:false,margin:false},g);var d=a(this);var e;if(!d.is(":visible")){if(f.clone){e=d.clone().appendTo($UI.body).addClass("ui-offscreen")}else{d.addClass("ui-offscreen")}}var b=f.border?d.outerWidth():f.margin?d.outerWidth(true):d.width();var c=f.border?d.outerHeight():f.margin?d.outerHeight(true):d.height();if(e){if(d.width()===0){b+=e.width()}if(d.height()===0){c+=e.height()}e.remove()}d.removeClass("ui-offscreen");return{w:b,h:c}};a.fn.uiSwipe=function(b,c){var e=a.isFunction(window.Hammer);var d=b===false&&a.isUndefined(c);return this.each(function(){if(e){if(d){a(this).unbind(".ui-swipe")}else{a(this).hammer({}).bind("swipe.ui-swipe",function(f){if(f.gesture.direction==Hammer.DIRECTION_LEFT){f.gesture.preventDefault();b(f)}else{if(f.gesture.direction==Hammer.DIRECTION_RIGHT){f.gesture.preventDefault();c(f)}}}).bind("mousedown.ui-swipe",function(){return false})[0].onselectstart=function(){return false}}}})};a.fn.contentHeight=function(){return this[0].scrollHeight};a.fn.contentWidth=function(){return this[0].scrollWidth};a.fn.uiLoad=function(c,d,e,b){return this.each(function(){var f=a(this).empty().addClass("ui-ajax-loading");if(a.isFunction(d)){b=e;e=d;d={}}if(a.isUndefined(b)){b=true}$UI.Utils.ajax(c,{data:d,cacheData:b,success:function(g){f.removeClass("ui-ajax-loading").html(g);if(a.isFunction(e)){e(g)}},error:function(h,i,g){if(!$UI.ajaxBeforeUnload){f.removeClass("ui-ajax-loading").html('<div class="ui-ajax-loading-error">'+$UI.Utils.AJAX_ERROR_MESSAGE+"</div>")}}})})};a.fn.uiDelegate=function(b,c,e,d){return this.each(function(){var f=a(this);f.bind(c,function(h){var g=a(h.target);if(d===true&&!g.is(b)){g=g.closest(b)}if(g&&g.is(b)){return e.call(g,h)}})})};a.fn.singleClick=function(e,d){var b="uiSingleClick";var c="uiSingleClick-dbl";return this.each(function(){var f=a(this);f.bind("click."+b,function(g){f.userdata(c,false);if(f.userdata(b)){f.userdata(c,true);return}f.userdata(b,true);setTimeout(function(){f.userdata(b,false);if(!f.userdata(c)){e.call(f,g)}},d||200)})})};a.fn.autorepeatClick=function(d,c){c=c||{};var b=function(e){clearInterval(e);a(this).unbind(".autorepeatclick");if(a.isFunction(c.onAfter)){c.onAfter.call(this)}};return this.each(function(){var f=a(this);var e=c.timeout||100;f.bind("mousedown.autorepeatclick",function(h){d.call(f,h);var i=setInterval(function(){d.call(f,h)},e);var g=function(){b(i)};setTimeout(function(){f.bind("mouseup.autorepeatclick",g).bind("mouseleave.autorepeatclick",g)},10)})})};a.fn.drag=function(b){return this.each(function(){var c=a(this);var d={type:b.type||$UI.ORIENTATION_HORIZONTAL,onDrag:b.onDrag,onDrop:b.onDrop,onStart:b.onStart};c[0].onselectstart=function(){return false};c.mousedown(function(h){var g=a(this);var f={x:h.pageX,y:h.pageY};d.startPos=f;d.curPos=f;if(a.isFunction(d.onStart)){d.onStart.call(g)}d.f=function(k){var j=d.startPos;var i=k.pageX-j.x;var o=k.pageY-j.y;var l=d.curPos;var n;var m;if(!d.type){n={x:i,y:o};m={x:k.pageX,y:k.pageY}}else{if((d.type==$UI.ORIENTATION_HORIZONTAL)&&(k.pageX!=l.x)){n=i;m=k.pageX}else{if((d.type==$UI.ORIENTATION_VERTICAL)&&(k.pageY!=l.y)){n=o;m=k.pageY}}}if(n){d.onDrag.call(g,n,m)}d.curPos={x:k.pageX,y:k.pageY}};$UI.html.bind("mousemove.uiDrag",d.f).one("mouseup",function(i){$UI.html.unbind("mousemove.uiDrag");if(a.isFunction(d.onDrop)){d.onDrop.call(g,{x:i.pageX-d.curPos.x,y:i.pageY-d.curPos.y},{x:i.pageX,y:i.pageY})}});return false})})}})(jQuery);$UI.Keyboard=function(){var c=function(h,g,i){var f=h.keyCode;if($.isUndefined(g)||f===g){i(f,h)}};var d=function(h,g){var e="keypress.uiKeyboard"+new Date().getMilliseconds();var i=function(f){c(f,h,g)};$UI.document.bind(e,i);return e};var b=function(e){if($.isDefined(e)){$UI.document.unbind(e)}};var a=function(e){return($.isDefined(e)&&e&&(e>=36&&e<=40))};return{addListener:d,removeListener:b,isMoveKey:a}}();$UI.message=function(b,a,c){$UI.Message.show(b,a,c)};$UI.Message=function(){var h;var c;var g;var i;var b;var a;var e;var k;var j=function(){h=$('<div class="block-message-wrapper"><div class="alert-message block-message"><a class="close" href="#">×</a><p></p><div class="alert-actions"><a class="btn small block-message-btn1" href="#" id="ui-message-btn1"></a><a class="btn small block-message-btn2" id="ui-message-btn2"></a></div></div></div>').appendTo($UI.body);g=h.find(".block-message");c=h.find("p");var l=h.find(".btn").click(function(){d($(this))});b=$(l[0]);a=$(l[1]);e=h.find(".close").click(function(){d()})};var f=function(n,m,p,o){if(!h){j()}i=$.extend({},{level:$UI.LEVEL_INFO,position:$UI.POSITION_BOTTOM,fx:$UI.FX_FADE,closeButton:true},o);k=p||function(){};e.toggle(i.closeButton);var l=$.isDefined(m)?m.split("|"):["OK"];b.text(l[0]);a.toggle(l.length>1);if(l.length>1){a.text(l[1])}c.html(n);g.removeClass("warning error success info").addClass(i.level);h.removeAttr("style").removeClass("top bottom").addClass(i.position);if(i.fx===$UI.FX_FADE){h.fadeIn("fast")}else{if(i.fx===$UI.FX_SCROLL){h.scrollIntoScreen(i.position,5)}else{h.show()}}};var d=function(l){if(!h){return}var m=l?(l.id()==="ui-message-btn1"?1:2):-1;h.fadeOut("fast",function(){k(m)})};return{show:f,hide:d}}();$UI.alertBox=function(c,b,d,a){$UI.MessageBox.showMessage({title:c,message:b,callback:d,icon:a||$UI.MessageBox.ICON_INFO,type:$UI.MessageBox.TYPE_ALERT})};$UI.confirmBox=function(b,a,c){$UI.MessageBox.showMessage({title:b,message:a,callback:c,icon:$UI.MessageBox.ICON_QUESTION,type:$UI.MessageBox.TYPE_CONFIRM})};$UI.multipleChoiceBox=function(c,b,a,d){$UI.MessageBox.showMessage({title:c,message:b,callback:d,icon:$UI.MessageBox.ICON_QUESTION,type:$UI.MessageBox.TYPE_MULTIPLE,buttons:a})};$UI.promptBox=function(c,b,d,a){$UI.MessageBox.showMessage({title:c,message:b,callback:d,icon:$UI.MessageBox.ICON_PROMPT,type:$UI.MessageBox.TYPE_PROMPT,defaultText:a})};$UI.MessageBox=function(){var f;var c;var j;var h;var e;var b;var g=function(m,k){switch(h.type){case $UI.MessageBox.TYPE_PROMPT:if(k.id()==="ui-msgbox-ok"){var l=h.callback(j.val());if($.isString(l)){e.setParameters({content:l}).show();j.addClass("ui-prompt-error").focus().one("keypress.uiMessageBox",function(){j.removeClass("ui-prompt-error");e.hide()})}else{d()}}else{d();h.callback()}break;case $UI.MessageBox.TYPE_CONFIRM:d();h.callback(k.id()==="ui-msgbox-ok");break;case $UI.MessageBox.TYPE_ALERT:d();h.callback();break;case $UI.MessageBox.TYPE_MULTIPLE:d();h.callback({n:k.index(),text:k.text()})}};var d=function(){j.removeClass("ui-prompt-error").unbind("keypress.uiMessageBox");e.hide();f.hide()};var i=function(){b=$("<div><button>OK</button></div>").appendTo($UI.body);b.bind("modalopened",function(){if(h.type===$UI.MessageBox.TYPE_PROMPT){j.focus();setTimeout(function(){j.val(h.defaultText)},10)}});f=new $UI.Modal(b,{closeOnButtonClick:false,content:'<table cellpadding="0" cellspacing="0"><tr><td><div class="messagebox-icon"></div></td><td><div id="ui-msgbox-content"></div><input type="text" id="ui-msgbox-promptbox" /></td></tr></table>'});f.getBody().addClass("messagebox").bind("modalbuttonclicked",g);c=$("#ui-msgbox-content");j=$("#ui-msgbox-promptbox");e=j.$uiTwipsy({position:$UI.POSITION_TOP_RIGHT,offset:{y:12}}).$uiGetTwipsy()};var a=function(o){if(!f){i()}h=o;f.setParameters({title:o.title});c.html(o.message);var k=[];switch(o.type){case $UI.MessageBox.TYPE_ALERT:k.push('<button id="ui-msgbox-ok" class="btn btn-primary">');k.push($UI.MessageBox.OK_TEXT);k.push("</button>");break;case $UI.MessageBox.TYPE_CONFIRM:case $UI.MessageBox.TYPE_PROMPT:k.push('<button id="ui-msgbox-ok" class="btn btn-primary">');k.push($UI.MessageBox.OK_TEXT);k.push('</button><button id="ui-msgbox-cancel" class="btn">');k.push($UI.MessageBox.CANCEL_TEXT);k.push("</button>");break;case $UI.MessageBox.TYPE_MULTIPLE:var n=o.buttons.split("|");for(var m=0,l=n.length;m<l;m++){k.push('<button class="btn">');k.push(n[m]);k.push("</button>")}break}f.getFooter().html(k.join(""));j.toggle(o.type==$UI.MessageBox.TYPE_PROMPT);if(!o.callback){o.callback=function(){}}if(!o.defaultText){o.defaultText=""}f.getBody().removeClass("info alert question warning no-icon").addClass(o.icon);if(o.type===$UI.MessageBox.TYPE_PROMPT){j.val(o.defaultText+" ")}f.show()};return{OK_TEXT:"OK",CANCEL_TEXT:"Cancel",ICON_QUESTION:"question",ICON_WARNING:"warning",ICON_ERROR:"error",ICON_INFO:"info",ICON_PROMPT:"prompt",ICON_NONE:"no-icon",TYPE_ALERT:"alert",TYPE_CONFIRM:"confirm",TYPE_PROMPT:"prompt",TYPE_MULTIPLE:"multiple",showMessage:a}}();(function(a){a.fn.$uiModal=function(b){return this.each(function(){$UI.uiObject(a(this),"modal",$UI.Modal,b)})};a.fn.$uiGetModal=function(){return this.$ui("modal")}})(jQuery);$UI.Modal=function(j,s){var d;var q;var t;var b;var r;var f;var e;var n;var g=function(){d=j;if(!d){d=$("<div></div>").appendTo($UI.body)}d.addClass("ui-modal-content-element");f=$.extend({},{closeOnButtonClick:false,ignoreForms:false,position:$UI.POSITION_CENTERED},s);b=d.uiWrap('<div class="ui-modal"><div class="modal"><div class="modal-body"></div></div></div>').$uiModalOverlay({fx:$UI.FX_NONE,opacity:0.6}).bind("modaloverlayvisible",a).bind("modaloverlayhidden",m);q=b.$uiGetModalOverlay();t=q.$();r=d.show().closest(".modal").prepend('<div class="modal-header"><h3></h3><a class="close" title="close">×</a></div>');e=r.find(".modal-body");r.find(".close").click(c);var v=!f.ignoreForms?d.find("button, input[type=submit], input[type=button]"):[];if(v[0]){n=v.filter(".btn-primary");if(!n[0]){n=v.filter("input[type=submit]").addClass("btn-primary")}v.addClass("btn").detach().appendTo(r).wrapAll('<div class="modal-footer"></div>').not(".btn-primary").addClass("secondary");n.wrap('<div class="ui-ajax-button"></div>');r.children(".modal-footer").uiDelegate(".btn","click",function(){if(f.closeOnButtonClick||this.hasClass("cancel-button")){c()}d.trigger("modalbuttonclicked",[this])})}else{r.append('<div class="modal-footer ui-modal-no-buttons"></div>')}h(f)};var h=function(v){if(v){f=$.extend(f,v)}var w=r.children(".modal-header");if($.isDefined(v.title)&&v.title!==null){w.removeClass("ui-modal-no-title").children("h3").text(v.title)}else{if(d.hasAttr("title")){w.removeClass("ui-modal-no-title").children("h3").text(d.attr("title"));d.removeAttr("title")}else{w.addClass("ui-modal-no-title")}}if($.isDefined(v.content)){d.html(v.content)}return this};var u=function(v,w){d.empty().addClass("ui-ajax-loading");$UI.Utils.ajax(v,{error:function(){d.removeClass("ui-ajax-loading").html('<div class="ui-modal-ajax-error">'+$UI.Utils.AJAX_ERROR_MESSAGE+"</div>");if($.isFunction(w)){w()}},success:function(x){d.removeClass("ui-ajax-loading").html(x);k();if($.isFunction(w)){w(x)}}});return this};var l=function(){q.show();k();return this};var a=function(){p(true);d.trigger("modalopened")};var k=function(){if(f.position!==$UI.POSITION_CENTERED){r.css({top:f.position.y,left:f.position.x})}};var c=function(){p(false);q.hide();return this};var m=function(){d.trigger("modalclosed")};var o;var i;var p=function(v){if(v){o=$UI.Keyboard.addListener($UI.VK_ESC,c);if(n){i=$UI.Keyboard.addListener($UI.VK_ENTER,function(){if(f.closeOnButtonClick){c()}d.trigger("modalbuttonclicked",[n])})}}else{$UI.Keyboard.removeListener(o);if(n){$UI.Keyboard.removeListener(i)}}};this.setParameters=h;this.getHeader=function(){return r.children(".modal-header")};this.getBody=function(){return e};this.getFooter=function(){return r.children(".modal-footer")};this.load=u;this.show=l;this.hide=c;this.$=function(){return r};g()};(function(a){a.fn.$uiModalOverlay=function(b){return this.each(function(){$UI.uiObject(a(this),"modaloverlay",$UI.ModalOverlay,b)})};a.fn.$uiGetModalOverlay=function(){return this.$ui("modaloverlay")}})(jQuery);$UI.ModalOverlay=function(l,e){var i;var j;var m;var k;var b;var h=function(){j=$.extend({},{backgroundColor:"000000",opacity:0.85,fx:$UI.FX_NONE},e);i=l.addClass("ui-modal-overlay-content").wrap('<div class="ui-modal-overlay ui-hidden"><div class="ui-modal-overlay-content-container"></div></div>');m=i.closest(".ui-modal-overlay");k=$('<div class="ui-modal-overlay-background ui-hidden"></div>').insertBefore(m);d(j)};var d=function(u){j=$.extend(j,u);if($.isDefined(u.backgroundColor)&&u.backgroundColor!=="transparent"){var t=u.backgroundColor.charAt(0)==="#"?u.backgroundColor.substring(1):u.backgroundColor;if($UI.isIE&&$UI.browser.version<9){var p=(Math.ceil(j.opacity*256)).toString(16).toUpperCase();var o="progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+p+t+", endColorstr=#"+p+t+")";k.css("filter",o)}else{var s=parseInt(t.substring(0,2),16);var q=parseInt(t.substring(2,4),16);var n=parseInt(t.substring(4,6),16);k.css("background-color","rgba("+s+","+q+","+n+", "+j.opacity+")")}}if($.isDefined(u.className)){m.attr("class","ui-modal-overlay ui-hidden").addClass(u.className)}};var a;var g=function(){if(!$UI.html.hasClass("ui-modal-html")){a=true;$UI.html.addClass("ui-modal-html")}i.show();b=$(".ui-hide-on-modal").not(".ui-hidden-by-modal").not(i.find(".ui-hide-on-modal")).addClass("ui-hidden-by-modal");if(j.fx===$UI.FX_FADE){k.fadeIn("fast");m.fadeIn("fast",function(){i.trigger("modaloverlayvisible")}).css("display","table")}else{k.show();m.css("display","table");i.trigger("modaloverlayvisible")}};var c=function(){if(j.fx===$UI.FX_FADE){m.fadeOut("fast",f);k.fadeOut("fast")}else{m.hide();k.hide();f()}};var f=function(){if(a){$UI.html.removeClass("ui-modal-html")}b.removeClass("ui-hidden-by-modal");b=null;i.trigger("modaloverlayhidden")};this.show=g;this.hide=c;this.setParameters=d;this.$=function(){return m};h()};
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
(function(d){var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});function c(j){var h=j||window.event,g=[].slice.call(arguments,1),k=0,i=true,f=0,e=0;j=d.event.fix(h);j.type="mousewheel";if(h.wheelDelta){k=h.wheelDelta/120}if(h.detail){k=-h.detail/3}e=k;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*k}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(j,k,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}})(jQuery);(function(a){a.fn.$uiMultiView=function(b){return this.each(function(){$UI.uiObject(a(this),"multiview",$UI.MultiView,b)})};a.fn.$uiGetMultiView=function(){return this.$ui("multiview")}})(jQuery);$UI.MultiView=function(m,d){var h;var l;var e=[];var j;var k;var a;var i;var g=function(){k=$.extend({},{fx:$UI.FX_NONE,speed:$UI.SPEED_FAST,selected:0,backButton:false},d);h=m.addClass("ui-multiview");var r=h.children("div").addClass("ui-multiview-view").wrapAll('<div class="ui-multiview-wrapper"></div>');l=h.children(".ui-multiview-wrapper");a=k.selected;if(k.backButton){j=$('<div class="ui-view-back"'+($UI.MultiView.BACK_TITLE!==""?' title="'+$UI.MultiView.BACK_TITLE+'" ':"")+"></div>").click(function(){b(0)});r.not(":first").prepend(j)}i=h.getSize().w;l.width(i*2);for(var p=0,o=r.length;p<o;p++){var q=$(r[p]);var n=i-parseInt(q.css("padding-left"),0)-parseInt(q.css("padding-right"),0);e.push(q.width(n).hide())}e[a].addClass("selected").show();h.trigger("viewselected",{selectedIndex:a,previousIndex:-1,selectedView:e[a],previousView:null})};var c=function(n){k=$.extend(k,n);if($.isDefined(n.selected)){b(n.selected)}};var f=function(n){if(j){j.show()}h.trigger("viewselected",{selectedIndex:n,previousIndex:a,selectedView:e[n],previousView:e[a]});e[a].removeClass("selected");e[n].addClass("selected");a=n};var b=function(n){n=$UI.Integer.limit(n,0,e.length-1);if(n!=a){if(j){j.hide()}switch(k.fx){case $UI.FX_NONE:e[a].hide();e[n].show();f(n);break;case $UI.FX_FADE:e[a].fadeOut("fast",function(){e[n].fadeIn(k.speed,function(){f(n)})});break;case $UI.FX_SCROLL:e[n].show();l.left(n<a?-i:0).animate({left:(n<a?0:-i)},k.speed,function(){e[a].hide();l.left(0);f(n)});break}}};this.setParameters=c;this.select=b;this.getSelectedView=function(){return{selectedIndex:a,selectedView:e[a]}};this.$=function(){return h};g()};$UI.MultiView.BACK_TITLE="Go Back";(function(a){a.fn.$uiPagination=function(b){return this.each(function(){$UI.uiObject(a(this),"pagination",$UI.Pagination,b)})};a.fn.$uiGetPagination=function(){return this.$ui("pagination")}})(jQuery);$UI.Pagination=function(n,c){var j;var k;var l;var a;var e;var f;var d;var i;var h=function(){j=n;k=c||{};var t;var r="#";var q="#";if(j.children("ul")[0]){var u=[];j.addClass("pagination");t=j.children("ul");var p=new $UI.Twipsy(t);t.find("a").each(function(w,v){var x=$(v);x.attr("alt",x.text()).hover(function(){p.setParameters({content:x.attr("alt")},x).show()},function(){p.hide()}).text(w+1);if(x.parent().hasClass("active")){k.selectedPage=w}if(x.attr("href")!="#"){u.push(x.attr("href"))}});if(k.selectedPage>0){r=u[k.selectedPage-1]}if(k.selectedPage<u.length-1){q=u[k.selectedPage+1]}}else{var o=[];for(var s=0;s<k.max;s++){o.push('<li><a href="#">'+(s+1)+"</a></li>")}t=$("<ul></ul>").appendTo(j.addClass("pagination")).append(o.join(""));q=r="#"}i=t.parent();l=t.children();a=$('<li><a href="'+r+'" class="prev"><span class="ui-pagination-arrow ui-pagination-prev-arrow"></span>'+$UI.Pagination.PREVIOUS+"</a></li>");e=$('<li><a href="'+q+'" class="next"><span class="ui-pagination-arrow ui-pagination-next-arrow"></span>'+$UI.Pagination.NEXT+"</a></li>");t.prepend(a).append(e).uiDelegate("a","click",m);b(c)};var b=function(o){if(o){k=$.extend(k,o)}if(!k.display||k.display>l.length){k.display=l.length}f=k.selectedPage||0;g(f);return this};var m=function(r){var q=$(this);var o=q.parent();if(o.hasClass("disabled")||o.hasClass("active")){r.preventDefault();return false}else{if(q.attr("href")=="#"){r.preventDefault();if(q.hasClass("prev")){g(f-1)}else{if(q.hasClass("next")){g(f+1)}else{g(q.text()-1)}}return false}}};var g=function(o){$(l[f]).removeClass("active");d=$UI.Integer.limit(o-(k.display/2),0,l.length-k.display);l.hide().slice(d,d+k.display).show();f=o;a.toggleClass("disabled",f===0);e.toggleClass("disabled",f===l.length-1);$(l[f]).addClass("active");j.trigger("pageselected",f+1)};this.$=function(){return i};this.setParameters=b;this.getCurrentPage=function(){return f+1};h()};$UI.Pagination.PREVIOUS="Previous";$UI.Pagination.NEXT="Next";(function(a){a.fn.$uiPlaceholder=function(b){return this.each(function(){$UI.uiObject(a(this),"placeholder",$UI.Placeholder,b,false)})};a.fn.$uiGetPlaceholder=function(){return this.$ui("placeholder")}})(jQuery);$UI.Placeholder=function(h,c){var f;var i;var g;var e=function(){if(!($UI.isIE&&$UI.browser.version<10)){return}f=h;var m=f.outerHeight(true);var k={height:m,lineHeight:(m+($UI.isIE&&$UI.browser.version===9?1:0))+"px"};var l=h.uiWrap('<div class="ui-placeholder-wrapper"></div>').css(k);g=$.extend({},{zIndex:2000,text:f.attr("placeholder")},c);i=$('<div class="ui-placeholder ui-transparent"></div>').appendTo(l).css(k).click(function(){a();setTimeout(function(){f.focus()},100)}).toggle($.trim(f.val())==="");var j=function(){if($.trim(f.val())===""){d()}};f.blur(j).focus(a).change(j);b(g)};var b=function(j){if(j){g=$.extend(g,j)}if($.isDefined(j.zIndex)&&i){i.css("z-index",j.zIndex)}if($.isDefined(j.className)&&i){i.addClass(j.className)}if($.isDefined(j.text)){f.attr("placeholder",j.text);if(i){i.text(j.text)}}};var d=function(){if(i){i.show()}else{if(f.hasAttribute("data-placeholder")){f.attr("placeholder",f.attr("data-placeholder"))}}};var a=function(){if(i){i.hide()}else{f.attr("data-placeholder",f.attr("placeholder"));f.attr("placeholder","")}};this.show=d;this.hide=a;this.setParameters=b;this.$=function(){return f};e()};(function(a){a.fn.$uiPopover=function(b){return this.each(function(){$UI.uiObject(a(this),"popover",$UI.Popover,b)})};a.fn.$uiGetPopover=function(){return this.$ui("popover")}})(jQuery);$UI.Popover=function(k,e){var i;var j;var f;var a;var h=function(){j=$.extend({},{fx:$UI.FX_FADE,position:$UI.POSITION_RIGHT,offset:{x:0,y:0},method:$UI.METHOD_MANUAL,closeButton:true,closeOnClick:false},e);var l=j.extraClass?" "+j.extraClass:"";f=$('<div class="popover'+l+'"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><span class="close" title="Close">×</span><div class="popover-content"></div></div></div>').appendTo($UI.body);f.find(".close").click(c);a=f.find(".popover-content");d(j,k)};var b=["focus","blur","mouseenter","mouseleave"];var d=function(o,m){if(m&&m!=i&&j.method!=$UI.METHOD_MANUAL){if(i){for(var l=0;l<b.length;l++){i.unbind(this+".uiPopover")}}m.bind((j.method===$UI.METHOD_FOCUS?"focus":"mouseenter")+".uiPopover",g).bind((j.method===$UI.METHOD_FOCUS?"blur":"mouseleave")+".uiPopover",c)}if(m){i=m}j=$.extend(j,o);if($.isDefined(o.position)){f.removeClass("top bottom left right").addClass(o.position).toggleClass("with-close",j.closeButton)}var n=f.find(".popover-title");if($.isDefined(o.title)){n.show().text(o.title);f.addClass("has-title")}if($.isDefined(o.content)){a.html('<div class="ui-popover-content-"'+i.id()+'"><p>'+o.content+"</p></div>")}if($.isDefined(o.closeButton)){f.find(".close").toggle(o.closeButton&&j.method===$UI.METHOD_MANUAL)}if($.isDefined(o.zIndex)){f.css("z-index",o.zIndex)}if($.isDefined(o.width)){f.width(o.width)}if($.isDefined(o.height)){f.height(o.height)}return this};var g=function(){f.relatedPosition(i,j.position,j.offset);if(f.is(":animated")){f.stop(true,true).hide()}if(j.fx===$UI.FX_FADE){f.fadeIn("fast")}else{f.show()}if(j.closeOnClick){setTimeout(function(){$UI.html.one("click",c)},500)}return this};var c=function(){if(j.fx===$UI.FX_FADE&&!f.is(":animated")){f.fadeOut("fast",function(){i.trigger("closed")})}else{f.hide();i.trigger("closed")}return this};this.show=g;this.hide=c;this.setParameters=d;this.$=function(){return f};h()};$UI.String={abbreviate:function(a,b){if(a.length<4||a.length<b-3){return a}else{return a.substring(0,b-3)+"..."}},fill:function(e,d){var a=e.length;if(a>=d||d===0){return""}var f=[];var c;if(a===1){for(c=0;c<d;c++){f.push(e)}}else{var b=a/d;for(c=0;c<b;c++){f.push(e)}if(a%d!==0){f.push(e.substring(0,a%d))}}return f.join("")},repeat:function(b,d){var c=[];for(var a=0;a<d;a++){c.push(b)}return c.join("")},before:function(b,a,c){var d=c===true?b.lastIndexOf(a):b.indexOf(a);if(d<0){return null}return b.substring(0,d)},after:function(b,a,c){var d=c===true?b.lastIndexOf(a):b.indexOf(a);if(d<0){return null}return b.substring(d+a.length)},from:function(a,b){if(a.indexOf(b)<0){return a}return a.substring(a.indexOf(b))},left:function(a,b){if(!b){b=1}if(b>a.length-1){return a}return a.substring(0,b)},right:function(a,b){if(!b){b=1}if(b>a.length-1){return a}return a.substring(a.length-b-1)},chop:function(a){return a.substring(0,a.length-1)},wrap:function(b,e,a){if(!e||e===""){return b}if(!a){a="~"}var c=$UI.String.before(e,a);var d=$UI.String.after(e,a);return c+b+d},between:function(d,e,c,a){var b=d;if(a){b=b.toUpperCase();c=c.toUpperCase();e=e.toUpperCase()}var f=$UI.String.after(b,e);return $UI.String.before(f,c)},startsWith:function(c,b,a){if(a===true){return c.toUpperCase().substring(0,b.length)==b.toUpperCase()}else{return c.substring(0,b.length)==b}},endsWith:function(c,b,a){if(a===true){return c.toUpperCase().substring(c.length-b.length)==b.toUpperCase()}else{return c.substring(c.length-b.length)==b}},contains:function(c,b,a){if(a===true){return c.toUpperCase().indexOf(b.toUpperCase())>=0}else{return c.indexOf(b)>=0}},compareIgnoreCase:function(d,b,a){var c=d.toUpperCase();b=b.toUpperCase();if(a===true){$.trim(c);$.trim(b)}return c==b},replaceAll:function(a,b,c){return a.replace(new RegExp(b,"g"),c)},clean:function(a){return $UI.String.replaceAll($.trim(a),/\\t\\n\\r/,"")},collapseSpaces:function(a){return a.replace(/\s+/g," ")},escapeToRegexp:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},rightJustify:function(c,b,a){if(!a){a=" "}return $UI.String.fill(a,b-c.length)+c},leftJustify:function(c,b,a){if(!a){a=" "}return c+$UI.String.fill(a,b-c.length)},center:function(d,c,b){if(!b){b=" "}if(d.length>=c){return d}var e=(c/2)-(d.length/2);var a=c-d.length-e;return $UI.String.fill(b,e)+d+$UI.String.fill(b,a)}};$UIString=$UI.String;$UI.Array={exJoin:function(b,e){var g=[];var f=b.length-1;for(var d=0,c=b.length;d<c;d++){g.push(e(b[d],d,d==f))}return g.join("")},indexOf:function(b,c){var f=-1;for(var e=0,d=b.length;e<d;e++){if(b[e]===c){f=e;break}}return f},remove:function(c,b,d){if(!d){d=1}c.splice(b,d)},insert:function(c,b,e){var f=e instanceof Array?e:[e];var g=f.length;for(var d=0;d<g;d++){c.splice(b+d,1,f[d])}},copy:function(b,f){var e=f?f:[];for(var d=0,c=b.length;d<c;d++){e.push(b[d])}return e},foreach:function(b,e){for(var d=0,c=b.length;d<c;d++){e.call(b[d],b[d],d)}},fill:function(b,e){for(var d=0,c=b.length;d<c;d++){b[d]=e}},map:function(b,g){var e=[];for(var d=0,c=b.length;d<c;d++){e.push(g(b[d],d))}return e},filter:function(b,h){var g=[];for(var d=0,c=b.length;d<c;d++){var k=h(b[d],d);if(k){g.push(k)}}return g},minValue:function(c){var b=c[0];for(var e=1,d=c.length;e<d;e++){if(c[e]<b){b=c[e]}}return b},maxValue:function(c){var b=c[0];for(var e=1,d=c.length;e<d;e++){if(c[e]>b){b=c[e]}}return b},tail:function(b,d){var c=b.length-d-1;if(c<0){c=0}return b[c]},first:function(b,e){if(e>b.length){return b}var d=[];for(var c=0;c<e;c++){d.push(b[c])}return d},last:function(c,f){var b=c.length;if(f>b){return c}var e=[];for(var d=b-f;d<b;d++){e.push(c[d])}return e}};$UIArray=$UI.Array;$UI.Integer={toHex:function(b,a){var c=Number(b).toString(16).toUpperCase();if(a&&c.length<a){c=$UI.String.fill("0",a).substr(0,a-c.length)+c}return c},toByteArray:function(a){var b=[];do{b.push(a&(255));a=a>>8}while(a>0);return b.reverse()},limit:function(b,a,c){if(b<a){return a}else{if(b>c){return c}else{return b}}},parseInt0:function(a){var b=parseInt($.trim(a),10);if(isNaN(b)){return 0}else{return b}},inList:function(d){var c=false;for(var b=0,a=arguments.length;b<a;b++){if(d==arguments[b]){c=true;break}}return c},percentage:function(a){a=$.trim(a);if(a.indexOf("%")<=0){return 0}else{if(a=="100%"){return 1}else{return ParseInt($UI.String.before(a,"%"),0)/100}}}};$UIInt=$UI.Integer;$UI.progressBar=function(){var b;var d;var c;var e=function(){b=$('<table class="ui-progressbar-wrapper"><tr><td width="100%" height="100%" valign="middle" align="center"><div class="ui-progressbar"><div id="ui-progressbar-message"></div><div class="ui-progressbar-animation"></div></div></td></tr></table>').appendTo($UI.body).$uiModalOverlay({opacity:0.65});d=b.$uiGetModalOverlay();c=$("#ui-progressbar-message")};var f=function(g,h,i){if(!b){e()}c.html(g);d.show();if($.isDefined(h)){setTimeout(function(){d.hide();if($.isFunction(i)){i()}},h*1000)}};var a=function(g){if(d){d.hide();if($.isFunction(g)){g()}}};return{show:f,hide:a}}();(function(a){a.fn.$uiScrollingDiv=function(b){return this.each(function(){$UI.uiObject(a(this),"scrollingdiv",$UI.ScrollingDiv,b)})};a.fn.$uiGetScrollingDiv=function(){return this.$ui("scrollingdiv")}})(jQuery);$UI.ScrollingDiv=function(n,g){var i="ui-scrolling-div-disabled";var d;var l;var m;var o;var f;var e;var c;var k=function(){m=$.extend({},{increment:0,leftArrow:"&lt;-",rightArrow:"-&gt;"},g);o=0;f=$('<div class="ui-scrolling-div-left ui-scrolling-div-arrow ui-scrolling-div-disabled"></div>').click(j);e=$('<div class="ui-scrolling-div-right ui-scrolling-div-arrow"></div>').click(a);if($.isDefined(m.leftArrow)){f.html(m.leftArrow)}if($.isDefined(m.rightArrow)){e.html(m.rightArrow)}d=n.addClass("ui-scrolling-div-content").uiWrap('<div class="ui-scrolling-div"></div>').prepend(f).append(e);b(m,n);d.uiSwipe(a,j)};var a=function(){if(!e.hasClass(i)){o-=h(true);var q=l.width();var r=d.width();if(o+q<=r){o=-(q-r)}l.animate({left:o},"fast");p()}};var j=function(){if(!f.hasClass(i)){o+=h(false);if(o>=0){o=0}l.animate({left:o},"fast");p()}};var h=function(r){var q;if($.isFunction(m.onIncrement)){q=m.onIncrement(r)}else{q=c?d.width()*m.increment:m.increment}return q};var p=function(){f.toggleClass(i,o>=0);e.toggleClass(i,o+l.width()<=d.width())};var b=function(r,q){if(q){l=q}m=$.extend(m,r);o=0;c=false;if(!$.isFunction(m.onIncrement)&&m.increment.indexOf("%")>0){c=true;m.increment=$UI.Integer.percentage(m.increment)}p()};this.show=function(){};this.hide=function(){};this.setParameters=b;this.$=function(){return d};k()};(function(a){a.fn.$uiSlider=function(b){return this.each(function(){$UI.uiObject(a(this),"slider",$UI.Slider,b)})};a.fn.$uiGetSlider=function(){return this.$ui("slider")}})(jQuery);$UI.Slider=function(j,r){var n=1;var e;var p;var h;var c;var k;var l;var b;var o;var a;var g=function(){e=$.extend({},{orientation:$UI.ORIENTATION_HORIZONTAL,max:100,position:0,parkPosition:-1},r);a=j.addClass("ui-slider").addClass(e.orientation).mousedown(s);a[0].onselectstart=function(){return false};p=$('<div class="ui-slider-thumb"><span></span></div>').appendTo(a);var t;if(e.orientation===$UI.ORIENTATION_HORIZONTAL){c=p.width();k=a.width();o="left";t=$UI.ORIENTATION_HORIZONTAL}else{c=p.height();k=a.height();o="top";t=$UI.ORIENTATION_VERTICAL}p.drag({type:t,onStart:d,onDrag:q,onDrop:i});f(e)};var s=function(t){m(null,b+(t.pageX<p.offset().left?-1:1));return false};var d=function(){h=e.orientation===$UI.ORIENTATION_HORIZONTAL?p.left():p.top();p.addClass("ui-slider-thumb-selected")};var q=function(t){m(h+t,null)};var i=function(){p.removeClass("ui-slider-thumb-selected")};var m=function(t,u){if(t===null){u=$UI.Integer.limit(u,0,e.max);t=$UI.Integer.limit(u*l,e.parkPosition,k-c)}else{if(u===null){t=$UI.Integer.limit(t,e.parkPosition,k-c);if(t<=n){u=0}else{if(t>=k-c-n){u=e.max}else{u=Math.ceil(t/l)}}}}p.css(o,t);if(u!=b){b=u;a.trigger("positionchanged",u);if(e.textbox){e.textbox.value(u)}}};var f=function(t){if(t){$.extend(e,t)}l=k/(e.max-1);if($.isDefined(t.position)){m(null,t.position)}if(t.textbox){t.textbox.change(function(){m(null,$UI.Integer.parseInt0(t.textbox.value()))}).change()}return this};this.$=function(){return a};this.setParameters=f;this.getPosition=function(){return b};g()};(function(a){a.fn.$uiSlidingContent=function(b){return this.each(function(){$UI.uiObject(a(this),"slidingcontent",$UI.SlidingContent,b)})};a.fn.$uiGetSlidingContent=function(){return this.$ui("slidingcontent")}})(jQuery);$UI.SlidingContent=function(m,c){var j;var g;var h;var a;var k;var l;var f=function(){j=$.extend({},{speed:$UI.SPEED_SLOW,waitForLoadBeforeSliding:false},c);g=m.addClass("ui-slidingcontent");h=g.innerWidth();l=$('<div class="ui-slidingcontent-box-wrapper"></div>').css({width:h*2,left:0});a=$('<div class="ui-slidingcontent-box"></div>').css({width:h,left:0}).html(g.html()).appendTo(l);k=$('<div class="ui-slidingcontent-box"></div>').css({width:h,left:h}).appendTo(l);g.html(l)};var b=function(n){j=$.extend(j,n)};var e=function(n,o){o=o||{};if($.isDefined(o.url)){if(j.waitForLoadBeforeSliding){k.uiLoad(o.url,i)}else{k.uiLoad(o.url)}}else{if($.isDefined(o.content)){k.html(o.content)}i(n)}};var i=function(n){a.css("left",0);l.css("left",0);k.css("left",n===$UI.LEFT?h:-h);l.animate({left:n===$UI.LEFT?-h:h},j.speed,function(){d(n)})};var d=function(o){var n=a;a=k;k=n;g.trigger("contentslided",o)};this.setParameters=b;this.slide=e;this.$=function(){return g};f()};(function(a){a.fn.$uiTable=function(b){return this.each(function(){$UI.uiObject(a(this),"table",$UI.Table,b)})};a.fn.$uiGetTable=function(){return this.$ui("table")}})(jQuery);$UI.Table=function(o,v){var e;var h;var q;var f;var r;var m;var a;var g;var l;var j=function(){e=o.addClass("ui-table table");a=e.children("thead");g=e.children("tbody").click(c);m=a.find("th").each(function(z){$(this).attr("data-col",z)});h=$.extend({},{striped:false,bordered:false,hover:false,condensed:false,sortable:false,editable:false,sortOnClient:true,validEditOnBlur:true,commandButtons:null,commandButtonAsLink:false},v);d();k()};var s=["striped","bordered","hover","condensed"];var k=function(F){if(F){h=$.extend(h,F)}for(var C=0;C<s.length;C++){var E=s[C];if($.isDefined(h[E])){e.toggleClass("table-"+E,h[E])}}var D=m.not(".ui-table-non-sortable").toggleClass("ui-sortable-header",h.sortable).remove(".ui-table-sort-order");a.unbind("mousedown.uiTable");if(h.sortable===true){u();D.append('<div class="ui-table-sort-order"></div>');a.uiDelegate("th","mousedown.uiTable",t,true)[0].onselectstart=function(){return false};if($.isDefined(h.defaultSortedColumn)){p(h.defaultSortedColumn)}}g.unbind("dblclick.uiTable");if(h.editable===true){g.uiDelegate("td","dblclick.uiTable",w)}g.removeChildren(".ui-table-command-buttons-cell");a.removeChildren(".ui-table-command-head");l=null;if(h.commandButtons!==null){var B=h.commandButtons.length;var A=['<td class="ui-table-command-buttons-cell">'];var z=h.commandButtonAsLink?"a":"button";for(C=0;C<B;C++){A.push("<");A.push(z);if(z==="a"){A.push(' href="#" ')}A.push(' data-btn-idx="');A.push(C);A.push('" class="ui-table-command-button ui-table-command-button-');A.push(C);if(z==="button"){A.push(" btn btn-small")}A.push('">');A.push(h.commandButtons[C]);A.push("</");A.push(z);A.push(">")}A.push("</td>");l=A.join("");g.children("tr").append(l);a.children("tr").append('<th class="ui-table-command-head"></th>')}return this};var u=function(){if(h.sortOnClient===true&&h.sortable===true){q=[];var F=g.children("tr");for(var D=0,A=F.length;D<A;D++){var E=[];var G=$(F[D]).children("td").not(".ui-table-command-buttons-cell");for(var C=0,B=G.length;C<B;C++){var z=$(G[C]);E.push({t:$.trim(z.text()),h:z.html()})}q.push(E)}}};var d=function(){var B=g.children("tr");for(var A=0,z=B.length;A<z;A++){var C=$(B[A]);C.attr("data-idx",A);if($UI.isIE&&$UI.browser.version<9){C.addClass("ui-table-row-"+(A%2?"odd":"even"))}}};var t=function(){if(!this.hasClass("ui-table-non-sortable")){p(this.attr("data-col"))}return false};var c=function(B){var z=$(B.target);var A=z.closest("tr");if(z.hasClass("ui-table-command-button")){e.trigger("commandbutton",{command:z.text(),buttonNumber:z.attr("data-btn-idx"),idx:A.attr("data-idx"),row:A});return false}else{if(!z.hasClass("ui-inline-edit")){var C=z.closest("td");e.trigger("rowselected",{idx:A.attr("data-idx"),row:A,cellIdx:C[0]?C.index():-1,cell:C[0]?C:null})}}};var w=function(A){A.stopImmediatePropagation();var z=this.addClass("ui-table-cell-edited");z.inlineEdit(function(B){z.removeClass("ui-table-cell-edited");if(B.modified){u();e.trigger("celledited",{cell:z,oldValue:B.oldValue,newValue:B.newValue})}},h.validEditOnBlur)};var p=function(B){$(m[f]).removeClass("headerSortUp headerSortDown");if(f==B){r=!r}else{f=B;r=true}var F=$(m[B]);F.addClass("headerSort"+(r?"Down":"Up"));if(h.sortOnClient===true){var z=F.attr("data-type")||"alpha";q.sort(function(H,G){var J=""+H[f].t;var I=""+G[f].t;if($UI.Table.sortFunctions[z]){return $UI.Table.sortFunctions[z](J,I,r)}else{if(x[z]){return x[z](J,I)}else{return i(J,I)}}});var E=[];for(var C=0;C<q.length;C++){E.push('<tr data-idx="'+C+'">');var D=q[C];for(var A=0;A<D.length;A++){E.push("<td>");E.push(D[A].h);E.push("</td>")}if(l!==null){E.push(l)}E.push("</tr>")}g.html(E.join(""))}e.trigger("tablesorted",{columnIdx:B,ascending:r});return this};var b=function(A,z){return $UI.Utils.compare(parseInt(A,10),parseInt(z,10),r)};var i=function(A,z){return $UI.Utils.compare(A.toUpperCase(),z.toUpperCase(),r)};var x={numerical:b,alpha:i};var n=function(z){if(z.jquery){z.remove()}else{$(g.children("tr")[z]).remove()}d();u();return this};var y=function(A,C,z){if($.isUndefined(z)){z=true}m.removeClass("headerSortUp headerSortDown").addClass("disabled");var B=Math.max(g.height(),150);g.html('<tr class="ui-table-loading ui-ajax-loading"><td colspan="'+m.length+'" style="height: '+B+'px"></td></tr>');$UI.Utils.ajax(A,{type:"GET",dataType:"html",cacheData:z,success:function(D){g.html(D);if(l!==null){g.children("tr").append(l)}d();u();m.removeClass("disabled");if($.isFunction(C)){C({result:true,data:D})}},error:function(D,E){g.find("td").addClass("ui-table-error").html($UI.Table.LOAD_ERROR);if($.isFunction(C)){C({result:false,data:E})}}})};j();this.setParameters=k;this.sort=p;this.deleteRow=n;this.load=y;this.$=function(){return e}};$UI.Table.LOAD_ERROR="Content loading error.<br/>Please, try again later.";$UI.Table.sortFunctions={};(function(a){a.fn.$uiTabs=function(b){return this.each(function(){$UI.uiObject(a(this),"tabs",$UI.Tabs,b)})};a.fn.$uiGetTabs=function(){return this.$ui("tabs")}})(jQuery);$UI.Tabs=function(j,d){var g;var i;var e;var h;var f=function(){g=j;i=$.extend({},{pills:false},d);g.uiDelegate("a","click",a,true);e=g.find("li");for(var n=0,m=e.length;n<m;n++){var o=$(e[n]);var k=$(o.children("a"));if(k[0]){var l=$UI.String.startsWith(k.attr("href"),"#")?$(k.attr("href")):null;o.userdata("ui-tab-info",{idx:n,content:l})}}e.find(">ul").addClass("dropdown-menu").prev().addClass("dropdown-toggle").append('<b class="caret"></b>').parent().addClass("dropdown");if(e.find(".active")[0]){i.active=e.find(".active")}else{i.active=$(e[0])}c(i)};var c=function(k){i=$.extend(i,k);if($.isDefined(k.pills)){g.removeClass("nav-tabs pills").addClass(k.pills?"ui-tabs nav nav-pills":"ui-tabs nav nav-tabs")}if($.isDefined(k.active)){b(i.active.jquery?i.active:$("#"+i.active))}return this};var b=function(l){var k;if(h){k=h.userdata("ui-tab-info");h.removeClass("active");if(i.activeClass){h.children("a").removeClass(i.activeClass)}if(k.content){k.content.hide()}}var m=l.addClass("active").userdata("ui-tab-info");if(i.activeClass){l.children("a").addClass(i.activeClass)}l.children("a").blur();if(m.content){m.content.show()}g.trigger("tabselected",{tab:l,content:m.content});h=l};var a=function(k){var l=this.parent();if($UI.String.startsWith(this.attr("href"),"#")){k.preventDefault();if(l.hasClass("dropdown")){setTimeout(function(){$UI.body.one("click",function(){l.removeClass("open")})},50);l.toggleClass("open")}else{if(!l.hasClass("active")){g.children(".dropdown.open").removeClass("open");b(l)}}}};this.$=function(){return g};this.setParameters=c;this.setActiveTab=b;f()};(function(a){a.fn.$uiTree=function(b){return this.each(function(){$UI.uiObject(a(this),"tree",$UI.Tree,b)})};a.fn.$uiGetTree=function(){return this.$ui("tree")}})(jQuery);$UI.Tree=function(n,e){var f="expanded";var i;var k;var c;var a;var h=function(){i=n.addClass("ui-tree").click(l);c=i.find("ul");a=c.closest("li").addClass("ui-tree-has-children").prepend($('<span class="ui-tree-expand"></span>')).children(".ui-tree-expand");k=$.extend({},{expanded:true,fx:$UI.FX_FADE,plusButton:"+",minusButton:"-"},e);b()};var b=function(o){if(o){k=$.extend(k,o)}c.toggle(k.expanded);g(a.toggleClass(f,k.expanded));if(k.selectedItem){m(k.selectedItem)}return this};var l=function(q){var o=$(q.target);var p=o.closest(".ui-tree-expand");if(p[0]){d.call(p)}else{var r=o.closest("li");if(r[0]){j().call(r)}}};var j=function(){i.trigger("itemselected",[this])};var d=function(){this.toggleClass(f);if(k.fx===$UI.FX_FADE){this.siblings("ul").animate({opacity:"toggle"},"100")}else{this.siblings("ul").toggle()}g([this]);i.trigger("treechanged",{item:this.parent(),expanded:this.hasClass(f)})};var m=function(p){if(!p.jquery){p=$("#"+p)}var o=p.closest("ul");while(!o.hasClass("ui-tree")){g([o.show().siblings(".ui-tree-expand").addClass(f)]);o=o.closest("li").closest("ul")}return this};var g=function(r){for(var q=0,p=r.length;q<p;q++){var o=$(r[q]);if(o.hasClass(f)){o.html(k.minusButton).attr("title",$UI.Tree.COLLAPSE_TEXT)}else{o.html(k.plusButton).attr("title",$UI.Tree.EXPAND_TEXT)}}};this.setParameters=b;this.toggleItem=m;this.$=function(){return i};h()};$UI.Tree.EXPAND_TEXT="Expand";$UI.Tree.COLLAPSE_TEXT="Collapse";(function(a){a.fn.$uiTwipsy=function(b){return this.each(function(){$UI.uiObject(a(this),"twipsy",$UI.Twipsy,b)})};a.fn.$uiGetTwipsy=function(){return this.$ui("twipsy")}})(jQuery);$UI.Twipsy=function(k,d){var i;var h;var e;var g=function(){i=$.extend({},{fx:$UI.FX_FADE,position:$UI.POSITION_TOP,offset:{x:0,y:0},method:$UI.METHOD_MANUAL,twipsy:true},d);if(k&&!i.content){i.content=k.attr("title");k.removeAttr("title")}e=$('<div><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>').hide().appendTo($UI.body);c(i,k)};var a=["focus","blur","mouseenter","mouseleave"];var c=function(n,m){if(m&&m!=h&&i.method!=$UI.METHOD_MANUAL){if(h){for(var l=0;l<a.length;l++){h.unbind(a[l]+".uiTwipsy")}}m.bind((i.method===$UI.METHOD_FOCUS?"focus":"mouseenter")+".uiTwipsy",f).bind((i.method===$UI.METHOD_FOCUS?"blur":"mouseleave")+".uiTwipsy",b)}if(m){h=m}if(n){i=$.extend(i,n)}if($.isDefined(n.content)){e.children(".tooltip-inner").html('<div class="ui-twipsy-content-'+h.id()+'">'+i.content.replace(/[\r\n]/g,"<br/>")+"</div>")}if($.isDefined(n.twipsy)){e.removeClass("tooltip ui-title").addClass(i.twipsy?"tooltip":"ui-title")}if($.isDefined(n.position)){e.removeClass("top bottom left right top-left top-right bottom-left bottom-right").toggleClass($UI.POSITION_TOP,$UI.String.contains(i.position,"top-")).toggleClass($UI.POSITION_BOTTOM,$UI.String.contains(i.position,"bottom-")).addClass(i.position)}if($.isDefined(i.width)){e.width(i.width)}if($.isDefined(i.height)){e.height(i.height)}return this};var f=function(){if(i.content.trim()!=""){e.relatedPosition(h,i.position,i.offset);if(i.fx===$UI.FX_FADE){e.stop(true,true).fadeIn("fast")}else{e.show()}}return this};var b=function(){if(i.fx===$UI.FX_FADE){e.stop(true,true).fadeOut("fast")}else{e.hide()}return this};var j=function(){if(e.is(":visible")){b()}else{f()}};this.show=f;this.hide=b;this.toggle=j;this.setParameters=c;this.$=function(){return e};g()};(function(a){a.fn.$uiUploadButton=function(b){return this.each(function(){$UI.uiObject(a(this),"uploadbutton",$UI.UploadButton,b)})};a.fn.$uiGetUploadButton=function(){return this.$ui("uploadbutton")}})(jQuery);$UI.UploadButton=function($elt,params){var _params;var _$elt;var _$form;var _$fileButton;var _$iFrame;var _skipOnLoad;var _tooltip;var _init=function(params){_$elt=$elt.wrap('<div class="ui-ajax-button"></div>');_params=$.extend({},{resultType:"TEXT"},params);if($.isDefined(_params.allowedExtensions)){for(var i=0;i<_params.allowedExtensions.length;i++){_params.allowedExtensions[i]=_params.allowedExtensions[i].toUpperCase()}}_tooltip=new $UI.Twipsy();_$form=_$elt.closest("form").addClass("ui-upload-button-form");_$fileButton=$('<input type="file" class="ui-upload-field" name="file" />').appendTo(_$form).hover(function(){_$elt.addClass("ui-upload-button-hover btn-hover")},function(){_$elt.removeClass("ui-upload-button-hover").removeClass("btn-hover")}).change(_submit).click(function(){_tooltip.hide()});var iFrameId=_$form.id()+"-ui-upload-button-iframe";_skipOnLoad=true;if($UI.isIE){_$iFrame=$('<iframe id="'+iFrameId+'" name="'+iFrameId+'" class="ui-upload-button-iframe" onload="this.iframeOnLoad()"></iframe>');_$iFrame[0].iframeOnLoad=_iframeOnLoad}else{_$iFrame=$('<iframe id="'+iFrameId+'" name="'+iFrameId+'" class="ui-upload-button-iframe"></iframe>');_$iFrame[0].onload=_iframeOnLoad}_$form.attr("target",iFrameId);$UI.body.append(_$iFrame)};var _iframeOnLoad=function(){if(_skipOnLoad){_skipOnLoad=false}else{_$elt.parent().removeClass("activated");if($.isFunction(_params.callback)){var uploadResult;if(_params.resultType==="TEXT"){uploadResult=_$iFrame.contents().text().trim();if(uploadResult===""){uploadResult=null}}else{if(_params.resultType==="JSON"){uploadResult=eval("("+_$iFrame.contents().text()+")")}}_params.callback(uploadResult)}}};var _submit=function(){if($.isDefined(_params.allowedExtensions)){var filenameExt=$UI.String.after(_$fileButton.val(),".",true);if(filenameExt&&$.inArray(filenameExt.toUpperCase(),_params.allowedExtensions)<0){_tooltip.setParameters({content:$UI.UploadButton.ERROR_INVALID_TYPE,position:$UI.POSITION_TOP},_$elt).show();return}}_$elt.parent().addClass("activated");_$form.submit()};_init(params)};$UI.UploadButton.ERROR_INVALID_TYPE="Invalid file type";$UI.Utils=function(){var j=function(q,o,s,r){var n=r||{x:0,y:0};var v={w:q.outerWidth(),h:q.outerHeight()};var u={w:o.outerWidth(),h:o.outerHeight()};var m=q.offset();var t;switch(s){case $UI.POSITION_CENTERED:t={left:m.left+((v.w-u.w)/2),top:m.top+((v.h-u.h)/2)};break;case $UI.POSITION_TOP:t={left:m.left+((v.w-u.w)/2),top:m.top-u.h+n.y};break;case $UI.POSITION_TOP_LEFT:t={left:m.left-(u.w/2),top:m.top-u.h+n.y};break;case $UI.POSITION_TOP_RIGHT:t={left:(m.left+v.w)-(u.w/2),top:m.top-u.h+n.y};break;case $UI.POSITION_LEFT:t={left:m.left-u.w+n.x,top:m.top+((v.h-u.h)/2)};break;case $UI.POSITION_RIGHT:t={left:m.left+v.w+n.x,top:m.top+((v.h-u.h)/2)};break;case $UI.POSITION_BOTTOM:t={left:m.left+((v.w-u.w)/2),top:m.top+v.h+n.y};break;case $UI.POSITION_BOTTOM_LEFT:t={left:m.left-(u.w/2),top:m.top+u.h+n.y};break;case $UI.POSITION_BOTTOM_RIGHT:t={left:(m.left+v.w)-(u.w/2),top:m.top+u.h+n.y};break}t.top=$UI.Integer.limit(t.top,0,$UI.window.scrollTop()+$UI.window.height()-u.h);t.left=$UI.Integer.limit(t.left,0,$UI.window.width()-u.w);return t};var h=function(){var m={name:"unknown",version:"unknown",engine:"unknown",os:"unknown",UNKNOWN:"unknown",IE:"ie",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",OPERA:"opera",WEBKIT:"webkit",GECKO:"gecko",TRIDENT:"trident",PRESTO:"presto",LINUX:"linux",WINDOWS:"windows",MACOS:"macos",IOS:"ios",ANDROID:"android"};var n=navigator.userAgent.toLowerCase();if($UI.String.contains(n,"msie")){m.name=m.IE;m.version=parseInt($UI.String.between(n,"msie ","."),10);m.engine=m.TRIDENT}else{if($UI.String.contains(n,"firefox/")){m.name=m.FIREFOX;m.engine=m.GECKO}else{if($UI.String.contains(n,"opera/")){m.name=m.OPERA;m.engine=m.PRESTO}else{if($UI.String.contains(n,"chrome/")){m.name=m.CHROME;m.engine=m.WEBKIT}else{if($UI.String.contains(n,"safari/")){m.name=m.SAFARI;m.engine=m.WEBKIT}}}}if(m.name!="unknown"){m.version=parseInt($UI.String.between(n,m.name+"/",".",true),10)}}if(n.match(/windows/)){m.os=m.WINDOWS}else{if(n.match(/ipad/)||n.match(/iphone/)||n.match(/ipod/)){m.os=m.IOS}else{if(n.match(/mac/)){m.os=m.MACOS}else{if(n.match(/android/)){m.os=m.ANDROID}else{if(n.match(/linux/)){m.os=m.LINUX}}}}}return m};var a=function(p,n,q){var o=q?p:n;var m=q?n:p;if(o<m){return -1}else{if(o>m){return 1}else{return 0}}};var g=function(){if(window.getSelection){var m=window.getSelection();if(m.getRangeAt&&m.rangeCount){return m.getRangeAt(0)}}else{if(document.selection&&document.selection.createRange){return document.selection.createRange()}}return null};var k=function(m){if(m){if(window.getSelection){var n=window.getSelection();n.removeAllRanges();n.addRange(m)}else{if(document.selection&&m.select){m.select()}}}};var b=function(m,p){var n;if(!m){m=g()}if($UI.isIE&&$UI.browser.version<9){var o=document.selection;if(o.type==="Control"){n=m.item(0)}else{n=m.parentElement()}}else{n=window.getSelection?m.commonAncestorContainer:m.item(0)}if(!p){return $(n)}else{return $(n).closest(p)}};var d=function(q,m){if(window.getSelection){q.deleteContents();var n=document.createElement("div");n.innerHTML=m;var r=document.createDocumentFragment(),p,o;while((p=n.firstChild)){o=r.appendChild(p)}q.insertNode(r)}else{q.pasteHTML(m)}};var l=function(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else{if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}}else{if(document.selection){document.selection.empty()}}};var f=function(o){var m,n;if(document.createRange){m=document.createRange();m.selectNodeContents(o[0]);m.collapse(false);n=window.getSelection();n.removeAllRanges();n.addRange(m)}else{if(document.selection){m=document.body.createTextRange();m.moveToElementText(o[0]);m.collapse(false);m.select()}}};var c=[];var i=function(m,n){var p=$.extend({},{cacheData:true},n);var o=m+(p.data?"?"+$.param(p.data,true):"");if(p.cacheData===true&&$.isDefined(c[o])){if($.isFunction(p.success)){p.success(c[o])}}else{p.cache=false;p.success=function(r,s,q){if(p.cacheData===true){c[o]=r}if($.isFunction(n.success)){n.success(r,s,q)}};p.error=function(q,s,r){if(!$UI.ajaxBeforeUnload&&$.isFunction(n.error)){n.error(q,s,r)}};$.ajax(m,p)}};var e=function(){var p=null;var o=null;var m=0;var n=0;p=$('<div class="ui-test-scrollbar"></div>').appendTo($("body"));o=$("<div></div>").appendTo(p).css({width:"100%",height:"200px"});m=o[0].offsetWidth;p.css("overflow","auto");n=o[0].offsetWidth;p.remove();return(m-n)};return{position:j,getBrowser:h,compare:a,getSelection:g,setSelection:k,getSelectionAncestor:b,replaceSelection:d,clearSelection:l,putCursorAtEndOfSelection:f,getScrollbarWidth:e,ajax:i,AJAX_ERROR_MESSAGE:"Error. Please try again later"}}();(function(a){a.fn.$uiVirtualScrollbar=function(b){return this.each(function(){$UI.uiObject(a(this),"virtualscrollbar",$UI.VirtualScrollbar,b,false)})};a.fn.$uiGetVirtualScrollbar=function(){return this.$ui("virtualscrollbar")}})(jQuery);$UI.VirtualScrollbar=function(l,c){var h;var a;var j;var k;var e=$UI.VirtualScrollbar.Event;var g=function(){h=l.addClass("ui-virtual-scrollbar");k=$.extend({},{position:$UI.POSITION_BOTTOM_RIGHT,lineHeight:30,columnWidth:30,maxYValue:h.contentHeight(),maxXValue:h.contentWidth(),pageWidth:h.width(),pageHeight:h.height()},c);if(k.position===$UI.POSITION_RIGHT||k.position===$UI.POSITION_BOTTOM_RIGHT){a=new $UI.Scrollbar({orientation:$UI.ORIENTATION_VERTICAL,lineSize:k.lineHeight,maxValue:k.maxYValue,pageSize:k.pageHeight,onScroll:function(n){h.trigger("virtualscrollY",n)}});h.addClass("ui-virtual-scrollbar-vertical").append(a.$())}if(k.position===$UI.POSITION_BOTTOM||k.position===$UI.POSITION_BOTTOM_RIGHT){j=new $UI.Scrollbar({orientation:$UI.ORIENTATION_HORIZONTAL,lineSize:k.columnWidth,maxValue:k.maxXValue,pageSize:k.pageWidth,onScroll:function(n){h.trigger("virtualscrollX",n)}});h.addClass("ui-virtual-scrollbar-horizontal").append(j.$())}f();var m=$('<input type="text" class="ui-virtual-scrollbar-keylogger" />').appendTo(h);if(a){h.bind("mousewheel.ui-virtualscrollbar",function(n,o){o=Math.ceil(o);if(o>0){d(e.MOUSEWHEEL_UP,-o)}else{if(o<0){d(e.MOUSEWHEEL_DOWN,-o)}}})}h.click(function(o){var n=$(o.target);if(!n.is("input")&&!n.is("select")&&!n.is("textarea")){m.focus()}});m.keydown(function(n){switch(n.keyCode){case $UI.VK_PAGE_UP:d(e.PAGE_UP);break;case $UI.VK_UP:d(e.UP);break;case $UI.VK_PAGE_DOWN:d(e.PAGE_DOWN);break;case $UI.VK_DOWN:d(e.DOWN);break;case $UI.VK_LEFT:d(e.LEFT);break;case $UI.VK_RIGHT:d(e.RIGHT);break}return false})};var f=function(){if(a){a.resize()}if(j){j.resize()}};var d=function(m,n){if(a&&m!=e.SET_POSITION_X){a.doScroll(m,n)}if(j&&m!=e.SET_POSITION_Y){j.doScroll(m,n)}};var i=function(m,n){d(m,n)};var b=function(m){if(m){k=$.extend(k,m)}};this.show=function(){};this.hide=function(){};this.setParameters=b;this.setPosition=i;this.resize=f;this.$=function(){return h};g()};$UI.VirtualScrollbar.Event={UP:"up",DOWN:"down",RIGHT:"right",LEFT:"left",PAGE_UP:"pageup",PAGE_DOWN:"pagedown",PAGE_RIGHT:"pageright",PAGE_LEFT:"pageleft",THUMB:"thumb",MOUSEWHEEL_UP:"mousewheelup",MOUSEWHEEL_DOWN:"mousewheeldown",SET_POSITION_X:"setpositionx",SET_POSITION_Y:"setpositiony"};$UI.Scrollbar=function(r){var f;var e;var j;var p;var i;var b;var a;var n;var c;var m;var o;var k=$UI.VirtualScrollbar.Event;var g=function(){b=r;o=(b.orientation===$UI.ORIENTATION_VERTICAL);i=$('<div class="ui-virtual-scrollbar-scroller ui-virtual-scrollbar-scroller-'+(o?"vertical":"horizontal")+'"><div class="ui-virtual-scrollbar-'+(o?"up":"left")+' ui-virtual-scrollbar-b1 ui-virtual-scrollbar-button disabled"><span></span></div><a class="ui-virtual-scrollbar-track"><div class="ui-virtual-scrollbar-thumb"></div></a><div class="ui-virtual-scrollbar-'+(o?"down":"right")+' ui-virtual-scrollbar-b2 ui-virtual-scrollbar-button"><span></span></div></div>');i.mousedown(function(t){t.preventDefault()});j=i.find(".ui-virtual-scrollbar-track");f=i.find(".ui-virtual-scrollbar-b1");e=i.find(".ui-virtual-scrollbar-b2");p=i.find(".ui-virtual-scrollbar-thumb");a=0;n=0;f.autorepeatClick(function(){h(o?k.UP:k.LEFT)});e.autorepeatClick(function(){h(o?k.DOWN:k.RIGHT)});j.autorepeatClick(function(u){if($(u.target).hasClass("ui-virtual-scrollbar-track")){i.addClass("clicked");var t;if(o){t=p.offset().top;if(u.pageY<t){h(k.PAGE_UP)}else{if(u.pageY>t+p.height()){h(k.PAGE_DOWN)}}}else{t=p.offset().left;if(u.pageX<t){h(k.PAGE_LEFT)}else{if(u.pageX>t+p.width()){h(k.PAGE_RIGHT)}}}}},{onAfter:function(){i.removeClass("clicked")}});var s;p.drag({type:b.orientation,onStart:function(){s=o?p.top():p.left()},onDrag:function(u){var t=$UIInt.limit((s+u),0,c-m);h(k.THUMB,t)}})};var h=function(t,v){var s;if(t===k.THUMB){s=v<n;v=q(v)}else{s=t===k.MOUSEWHEEL_UP||t===k.UP||t===k.PAGE_UP||t===k.LEFT||t===k.PAGE_LEFT}if(t!==k.SET_POSITION_X&&t!==k.SET_POSITION_Y){if(s&&f.hasClass("disabled")){return}if(!s&&e.hasClass("disabled")){return}}switch(t){case k.UP:case k.LEFT:a-=b.lineSize;break;case k.DOWN:case k.RIGHT:a+=b.lineSize;break;case k.PAGE_UP:case k.PAGE_LEFT:a-=b.pageSize;break;case k.PAGE_RIGHT:case k.PAGE_DOWN:a+=b.pageSize;break;case k.MOUSEWHEEL_UP:case k.MOUSEWHEEL_DOWN:a+=v*4*b.lineSize;break;case k.THUMB:a=v}a=$UIInt.limit(a,0,b.maxValue-b.pageSize+1);var u=Math.ceil((a/b.maxValue)*c);u=$UIInt.limit(u,0,c-m);if((s&&u<n)||(!s&&u>n)){if(o){p.top(u)}else{p.left(u)}n=u}l();b.onScroll(a)};var l=function(){f.toggleClass("disabled",a===0);e.toggleClass("disabled",a===b.maxValue-b.pageSize+1)};var q=function(s){return $UIInt.limit((Math.ceil((s/(c-m))*b.maxValue)-1),0,b.maxValue)};var d=function(){c=o?j.height():j.width();var t=Math.ceil((b.pageSize/b.maxValue)*c);if(o){p.height(t<10?10:t);m=p.outerHeight()}else{p.width(t<10?10:t);m=p.outerWidth()}var u=Math.ceil((a/b.maxValue)*c);u=$UIInt.limit(u,0,c-m);if(o){p.top(u)}else{p.left(u)}n=u};this.doScroll=h;this.resize=d;this.$=function(){return i};g()};